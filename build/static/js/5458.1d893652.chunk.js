"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5458],{39088:function(e,t,n){var a=n(1413),r=n(93433),l=n(4942),c=n(29439),i=n(47313),o=n(83371),s=n(45705),u=n(59491),d=n(72652),m=n(2717),f=n(58467),p=n(90954),v=n(24511),h=n(17101),Z=n(81890),x=n(46417);t.Z=function(e){var t,n,y,b=e.prev,j=(0,v.$)().t,g=(0,m.v9)((function(e){return e.menu}),m.wU).activeMenu,w=(0,m.v9)((function(e){return e.formLang}),m.wU),N=w.defaultLang,C=w.languages,E=(0,f.s0)(),k=(0,m.I0)(),q=(0,i.useState)({}),I=(0,c.Z)(q,2),S=I[0],_=I[1],O=(0,i.useState)(null),P=(0,c.Z)(O,2),F=P[0],U=P[1],L=(0,f.UO)().uuid,T=(0,m.v9)((function(e){return e.addons}),m.wU).params;function M(e){U(!0),h.Z.getById(e).then((function(e){var t=(0,a.Z)((0,a.Z)((0,a.Z)({},e.data),function(e){if(null===e||void 0===e||!e.translations)return{};var t=e.translations,n=C.map((function(e){var n,a,r;return r={},(0,l.Z)(r,"title[".concat(e.locale,"]"),null===(n=t.find((function(t){return t.locale===e.locale})))||void 0===n?void 0:n.title),(0,l.Z)(r,"description[".concat(e.locale,"]"),null===(a=t.find((function(t){return t.locale===e.locale})))||void 0===a?void 0:a.description),r}));return Object.assign.apply(Object,[{}].concat((0,r.Z)(n)))}(e.data)),{},{properties:e.data.properties.map((function(e,t){var n;return n={id:t},(0,l.Z)(n,"key[".concat(e.locale,"]"),e.key),(0,l.Z)(n,"value[".concat(e.locale,"]"),e.value),n})),translation:void 0,translations:void 0});_(t)})).finally((function(){return U(!1)}))}return(0,i.useEffect)((function(){M(L)}),[]),F?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,x.jsx)(d.Z,{size:"large",className:"py-5"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(o.Z,{title:j("product.info"),bordered:!0,children:[(0,x.jsx)(o.Z.Item,{label:"".concat(j("title")," (").concat(N,")"),span:3,children:S["title[".concat(N,"]")]}),(0,x.jsx)(o.Z.Item,{label:"".concat(j("description")," (").concat(N,")"),span:3,children:S["description[".concat(N,"]")]}),(0,x.jsx)(o.Z.Item,{label:j("shop"),span:1.5,children:null===(t=S.shop)||void 0===t?void 0:t.translation.title}),(0,x.jsx)(o.Z.Item,{label:j("unit"),span:1.5,children:null===(n=S.unit)||void 0===n?void 0:n.translation.title}),(0,x.jsx)(o.Z.Item,{label:j("tax"),children:S.tax}),(0,x.jsx)(o.Z.Item,{label:j("min.quantity"),children:S.min_qty}),(0,x.jsx)(o.Z.Item,{label:j("max.quantity"),children:S.max_qty})]}),null===(y=S.stocks)||void 0===y?void 0:y.map((function(e,t){return e?(0,x.jsxs)(o.Z,{bordered:!0,className:"mt-4",children:[(0,x.jsx)(o.Z.Item,{label:j("price"),span:2,children:e.price}),(0,x.jsx)(o.Z.Item,{label:j("quantity"),span:2,children:e.quantity}),e.extras.map((function(e,t){var n,a;return(0,x.jsx)(o.Z.Item,{label:null===e||void 0===e||null===(n=e.group)||void 0===n||null===(a=n.translation)||void 0===a?void 0:a.title,children:null===e||void 0===e?void 0:e.value},"extra"+t)}))]},"desc"+t):""})),(0,x.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,x.jsxs)(s.Z,{wrap:!0,children:[(0,x.jsx)(u.Z,{onClick:b,children:j("prev")}),(0,x.jsx)(u.Z,{type:"primary",onClick:function(){var e=(0,a.Z)({status:void 0},T),t="catalog/addons";k((0,p.ph)((0,a.Z)((0,a.Z)({},g),{},{nextUrl:t}))),k((0,Z.QA)(e)),E("/".concat(t))},children:j("finish")})]})})]})}},18325:function(e,t,n){var a=n(74165),r=n(15861),l=n(1413),c=n(29439),i=n(47313),o=n(18197),s=n(68197),u=n(59624),d=n(77181),m=n(66672),f=n(6289),p=n(86345),v=n(74294),h=n(59491),Z=n(89281),x=n(53149),y=n(2717),b=n(17101),j=n(90954),g=n(31055),w=n(58467),N=n(24511),C=n(49080),E=n(46417);t.Z=function(e){var t=e.next,n=e.action_type,k=void 0===n?"":n,q=(0,N.$)().t,I=o.Z.useForm(),S=(0,c.Z)(I,1)[0],_=(0,y.I0)(),O=(0,w.UO)().uuid,P=(0,w.s0)(),F=(0,i.useState)(null),U=(0,c.Z)(F,2),L=U[0],T=U[1],M=(0,y.v9)((function(e){return e.menu}),y.wU).activeMenu,V=(0,y.v9)((function(e){return e.formLang}),y.wU),z=V.defaultLang,A=V.languages,K=(0,i.useState)(!1),W=(0,c.Z)(K,2),D=W[0],R=W[1],$=(0,i.useState)([]),H=(0,c.Z)($,2),B=H[0],G=H[1];function Q(){return(Q=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:t},e.abrupt("return",x.Z.get(n).then((function(e){return e.data.map((function(e){return{label:e.translation?e.translation.title:"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.useEffect)((function(){return function(){var e=S.getFieldsValue(!0);_((0,j.nc)({activeMenu:M,data:(0,l.Z)((0,l.Z)({},M.data),e)}))}}),[]);return(0,i.useEffect)((function(){g.Z.getAll({perPage:100,page:1,active:1}).then((function(e){var t=e.data;return G(function(e){return e.map((function(e){var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}(t))}))}),[]),(0,E.jsxs)(o.Z,{layout:"vertical",form:S,initialValues:(0,l.Z)({active:!0},M.data),onFinish:function(e){var n,a;R(!0);var r=(0,l.Z)((0,l.Z)({},e),{},{min_qty:1,max_qty:1e3,active:Number(e.active),shop_id:null===(n=e.shop)||void 0===n?void 0:n.value,unit_id:null===(a=e.unit)||void 0===a?void 0:a.value,unit:void 0,addon:Number(1),shop:void 0});"edit"===k?function(e,n){b.Z.update(O,n).then((function(){_((0,j.nc)({activeMenu:M,data:e})),t()})).catch((function(e){return T(e.response.data.params)})).finally((function(){return R(!1)}))}(e,r):function(e,t){b.Z.create(t).then((function(t){var n=t.data;_((0,j.SS)({id:"product-".concat(n.uuid),url:"product/".concat(n.uuid),name:q("add.product"),data:e,refetch:!1})),P("/addon/".concat(n.uuid,"?step=1"))})).catch((function(e){return T(e.response.data.params)})).finally((function(){return R(!1)}))}(e,r)},className:"addon-menu",children:[(0,E.jsxs)(s.Z,{gutter:12,children:[(0,E.jsx)(u.Z,{xs:24,sm:24,md:16,children:(0,E.jsx)(d.Z,{title:q("basic.info"),children:(0,E.jsxs)(s.Z,{gutter:24,children:[(0,E.jsx)(u.Z,{span:24,children:A.map((function(e){return(0,E.jsx)(o.Z.Item,{label:q("name"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===z,message:q("required")}],hidden:e.locale!==z,children:(0,E.jsx)(m.Z,{})},"name"+e.id)}))}),(0,E.jsx)(u.Z,{span:24,children:A.map((function(e){return(0,E.jsx)(o.Z.Item,{label:q("description"),name:"description[".concat(e.locale,"]"),rules:[{required:e.locale===z,message:q("required")}],hidden:e.locale!==z,children:(0,E.jsx)(C.Z,{rows:4,span:4})},"description"+e.id)}))}),(0,E.jsx)(u.Z,{span:12,children:(0,E.jsx)(o.Z.Item,{label:q("tax"),name:"tax",rules:[{required:!0,message:q("required")}],children:(0,E.jsx)(f.Z,{min:0,className:"w-100",addonAfter:"%"})})}),(0,E.jsx)(u.Z,{span:12,children:(0,E.jsx)(o.Z.Item,{label:q("active"),name:"active",valuePropName:"checked",children:(0,E.jsx)(p.Z,{})})})]})})}),(0,E.jsxs)(u.Z,{xs:24,sm:24,md:8,children:[(0,E.jsx)(d.Z,{title:q("shop/restaurant"),children:(0,E.jsx)(o.Z.Item,{name:"shop",rules:[{required:!0,message:q("required")}],children:(0,E.jsx)(Z.h,{fetchOptions:function(e){return Q.apply(this,arguments)},disabled:"edit"===k})})}),(0,E.jsxs)(d.Z,{title:q("addition"),children:[(0,E.jsx)(o.Z.Item,{label:q("unit"),name:"unit",rules:[{required:!0,message:q("required")}],children:(0,E.jsx)(v.Z,{labelInValue:!0,filterOption:!1,options:B})}),(0,E.jsx)(o.Z.Item,{label:q("qr.code"),name:"bar_code",rules:[{required:!0,message:q("required")}],help:null!==L&&void 0!==L&&L.bar_code?L.bar_code[0]:null,validateStatus:null!==L&&void 0!==L&&L.bar_code?"error":"success",children:(0,E.jsx)(m.Z,{className:"w-100"})})]})]})]}),(0,E.jsx)(h.Z,{type:"primary",htmlType:"submit",loading:D,children:q("next")})]})}},74911:function(e,t,n){var a=n(29439),r=n(47313),l=n(18197),c=n(68197),i=n(59624),o=n(6289),s=n(45705),u=n(59491),d=n(2717),m=n(17101),f=n(24511),p=n(58467),v=n(90954),h=n(46417);t.Z=function(e){var t=e.prev,n=e.next,Z=(e.current,(0,f.$)().t),x=l.Z.useForm(),y=(0,a.Z)(x,1)[0],b=(0,p.UO)().uuid,j=(0,d.v9)((function(e){return e.menu}),d.wU).activeMenu,g=(0,r.useState)(null),w=(0,a.Z)(g,2),N=w[0],C=w[1],E=(0,d.I0)();return(0,r.useEffect)((function(){var e,t,n,a;E((0,v.xo)(j)),y.setFieldsValue({price:null!==(e=j.data)&&void 0!==e&&null!==(t=e.stocks)&&void 0!==t&&t.length?j.data.stocks[0].price:[""],quantity:null!==(n=j.data)&&void 0!==n&&null!==(a=n.stocks)&&void 0!==a&&a.length?j.data.stocks[0].quantity:[""]})}),[]),(0,h.jsxs)(l.Z,{layout:"vertical",form:y,onFinish:function(e){var t;C(!0),t=[{price:e.price,quantity:e.quantity}],m.Z.stocks(b,{extras:t}).then((function(){return n()})).finally((function(){return C(!1)}))},children:[(0,h.jsxs)(c.Z,{gutter:12,align:"middle",style:{flexWrap:"nowrap",overflowX:"auto"},children:[(0,h.jsx)(i.Z,{children:(0,h.jsx)(l.Z.Item,{label:Z("price"),name:"price",rules:[{required:!0,message:Z("required")}],children:(0,h.jsx)(o.Z,{min:0,className:"w-100",style:{minWidth:200}})})}),(0,h.jsx)(i.Z,{children:(0,h.jsx)(l.Z.Item,{label:Z("quantity"),name:"quantity",rules:[{required:!0,message:Z("required")}],children:(0,h.jsx)(o.Z,{min:0,className:"w-100",style:{minWidth:200}})})})]}),(0,h.jsxs)(s.Z,{className:"mt-4",children:[(0,h.jsx)(u.Z,{onClick:t,children:Z("prev")}),(0,h.jsx)(u.Z,{type:"primary",htmlType:"submit",loading:!!N,children:Z("next")})]})]})}},43205:function(e,t,n){n.d(t,{S:function(){return a}});var a=[{title:"addons",content:"First-content"},{title:"stocks",content:"Third-content"},{title:"finish",content:"Finish-content"}]},83371:function(e,t,n){n.d(t,{K:function(){return y},Z:function(){return w}});var a=n(4942),r=n(29439),l=n(71002),c=n(47313),i=n(46123),o=n.n(i),s=n(14903),u=n(82324),d=n(91964),m=n(87462);function f(e){return void 0!==e&&null!==e}var p=function(e){var t,n=e.itemPrefixCls,r=e.component,l=e.span,i=e.className,s=e.style,u=e.labelStyle,d=e.contentStyle,m=e.bordered,p=e.label,v=e.content,h=e.colon,Z=r;return m?c.createElement(Z,{className:o()((t={},(0,a.Z)(t,"".concat(n,"-item-label"),f(p)),(0,a.Z)(t,"".concat(n,"-item-content"),f(v)),t),i),style:s,colSpan:l},f(p)&&c.createElement("span",{style:u},p),f(v)&&c.createElement("span",{style:d},v)):c.createElement(Z,{className:o()("".concat(n,"-item"),i),style:s,colSpan:l},c.createElement("div",{className:"".concat(n,"-item-container")},(p||0===p)&&c.createElement("span",{className:o()("".concat(n,"-item-label"),(0,a.Z)({},"".concat(n,"-item-no-colon"),!h)),style:u},p),(v||0===v)&&c.createElement("span",{className:o()("".concat(n,"-item-content")),style:d},v)))};function v(e,t,n){var a=t.colon,r=t.prefixCls,l=t.bordered,i=n.component,o=n.type,s=n.showLabel,u=n.showContent,d=n.labelStyle,f=n.contentStyle;return e.map((function(e,t){var n=e.props,v=n.label,h=n.children,Z=n.prefixCls,x=void 0===Z?r:Z,y=n.className,b=n.style,j=n.labelStyle,g=n.contentStyle,w=n.span,N=void 0===w?1:w,C=e.key;return"string"===typeof i?c.createElement(p,{key:"".concat(o,"-").concat(C||t),className:y,style:b,labelStyle:(0,m.Z)((0,m.Z)({},d),j),contentStyle:(0,m.Z)((0,m.Z)({},f),g),span:N,colon:a,component:i,itemPrefixCls:x,bordered:l,label:s?v:null,content:u?h:null}):[c.createElement(p,{key:"label-".concat(C||t),className:y,style:(0,m.Z)((0,m.Z)((0,m.Z)({},d),b),j),span:1,colon:a,component:i[0],itemPrefixCls:x,bordered:l,label:v}),c.createElement(p,{key:"content-".concat(C||t),className:y,style:(0,m.Z)((0,m.Z)((0,m.Z)({},f),b),g),span:2*N-1,component:i[1],itemPrefixCls:x,bordered:l,content:h})]}))}var h=function(e){var t=c.useContext(y),n=e.prefixCls,a=e.vertical,r=e.row,l=e.index,i=e.bordered;return a?c.createElement(c.Fragment,null,c.createElement("tr",{key:"label-".concat(l),className:"".concat(n,"-row")},v(r,e,(0,m.Z)({component:"th",type:"label",showLabel:!0},t))),c.createElement("tr",{key:"content-".concat(l),className:"".concat(n,"-row")},v(r,e,(0,m.Z)({component:"td",type:"content",showContent:!0},t)))):c.createElement("tr",{key:l,className:"".concat(n,"-row")},v(r,e,(0,m.Z)({component:i?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},Z=function(e){return e.children},x=n(48138),y=c.createContext({}),b={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function j(e,t,n){var a=e;return(void 0===t||t>n)&&(a=(0,x.Tm)(e,{span:n})),a}function g(e){var t,n=e.prefixCls,i=e.title,m=e.extra,f=e.column,p=void 0===f?b:f,v=e.colon,Z=void 0===v||v,x=e.bordered,g=e.layout,w=e.children,N=e.className,C=e.style,E=e.size,k=e.labelStyle,q=e.contentStyle,I=c.useContext(d.E_),S=I.getPrefixCls,_=I.direction,O=S("descriptions",n),P=c.useState({}),F=(0,r.Z)(P,2),U=F[0],L=F[1],T=function(e,t){if("number"===typeof e)return e;if("object"===(0,l.Z)(e))for(var n=0;n<u.c4.length;n++){var a=u.c4[n];if(t[a]&&void 0!==e[a])return e[a]||b[a]}return 3}(p,U);c.useEffect((function(){var e=u.ZP.subscribe((function(e){"object"===(0,l.Z)(p)&&L(e)}));return function(){u.ZP.unsubscribe(e)}}),[]);var M=function(e,t){var n=(0,s.Z)(e).filter((function(e){return e})),a=[],r=[],l=t;return n.forEach((function(e,c){var i,o=null===(i=e.props)||void 0===i?void 0:i.span,s=o||1;if(c===n.length-1)return r.push(j(e,o,l)),void a.push(r);s<l?(l-=s,r.push(e)):(r.push(j(e,s,l)),a.push(r),l=t,r=[])})),a}(w,T),V=c.useMemo((function(){return{labelStyle:k,contentStyle:q}}),[k,q]);return c.createElement(y.Provider,{value:V},c.createElement("div",{className:o()(O,(t={},(0,a.Z)(t,"".concat(O,"-").concat(E),E&&"default"!==E),(0,a.Z)(t,"".concat(O,"-bordered"),!!x),(0,a.Z)(t,"".concat(O,"-rtl"),"rtl"===_),t),N),style:C},(i||m)&&c.createElement("div",{className:"".concat(O,"-header")},i&&c.createElement("div",{className:"".concat(O,"-title")},i),m&&c.createElement("div",{className:"".concat(O,"-extra")},m)),c.createElement("div",{className:"".concat(O,"-view")},c.createElement("table",null,c.createElement("tbody",null,M.map((function(e,t){return c.createElement(h,{key:t,index:t,colon:Z,prefixCls:O,vertical:"vertical"===g,bordered:x,row:e})})))))))}g.Item=Z;var w=g},86345:function(e,t,n){n.d(t,{Z:function(){return b}});var a=n(87462),r=n(4942),l=n(47313),c=n(29439),i=n(45987),o=n(46123),s=n.n(o),u=n(10288),d=n(49242),m=l.forwardRef((function(e,t){var n,a=e.prefixCls,o=void 0===a?"rc-switch":a,m=e.className,f=e.checked,p=e.defaultChecked,v=e.disabled,h=e.loadingIcon,Z=e.checkedChildren,x=e.unCheckedChildren,y=e.onClick,b=e.onChange,j=e.onKeyDown,g=(0,i.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,u.Z)(!1,{value:f,defaultValue:p}),N=(0,c.Z)(w,2),C=N[0],E=N[1];function k(e,t){var n=C;return v||(E(n=e),null===b||void 0===b||b(n,t)),n}var q=s()(o,m,(n={},(0,r.Z)(n,"".concat(o,"-checked"),C),(0,r.Z)(n,"".concat(o,"-disabled"),v),n));return l.createElement("button",Object.assign({},g,{type:"button",role:"switch","aria-checked":C,disabled:v,className:q,ref:t,onKeyDown:function(e){e.which===d.Z.LEFT?k(!1,e):e.which===d.Z.RIGHT&&k(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var t=k(!C,e);null===y||void 0===y||y(t,e)}}),h,l.createElement("span",{className:"".concat(o,"-inner")},C?Z:x))}));m.displayName="Switch";var f=m,p=n(82508),v=n(46479),h=n(91964),Z=n(21631),x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},y=l.forwardRef((function(e,t){var n,c=e.prefixCls,i=e.size,o=e.loading,u=e.className,d=void 0===u?"":u,m=e.disabled,y=x(e,["prefixCls","size","loading","className","disabled"]),b=l.useContext(h.E_),j=b.getPrefixCls,g=b.direction,w=l.useContext(Z.Z),N=j("switch",c),C=l.createElement("div",{className:"".concat(N,"-handle")},o&&l.createElement(p.Z,{className:"".concat(N,"-loading-icon")})),E=s()((n={},(0,r.Z)(n,"".concat(N,"-small"),"small"===(i||w)),(0,r.Z)(n,"".concat(N,"-loading"),o),(0,r.Z)(n,"".concat(N,"-rtl"),"rtl"===g),n),d);return l.createElement(v.Z,{insertExtraNode:!0},l.createElement(f,(0,a.Z)({},y,{prefixCls:N,className:E,disabled:m||o,ref:t,loadingIcon:C})))}));y.__ANT_SWITCH=!0,y.displayName="Switch";var b=y}}]);