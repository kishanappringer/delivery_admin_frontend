"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9228],{97388:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(74165),o=n(15861),u=n(29439),a=n(47313),i=n(16609),l=n(97421),c=n.p+"static/media/pin.0e41858db80c699cd8a2.png",s=n(31881),f=n.n(s);function d(e){return p.apply(this,arguments)}function p(){return p=(0,o.Z)((0,r.Z)().mark((function e(t){var n,o,u=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"AIzaSyDI0dNtJchqNdUbml5PyVGrUqJDSuJLMdg",o={latlng:"".concat(null===t||void 0===t?void 0:t.lat,",").concat(null===t||void 0===t?void 0:t.lng),key:n},e.abrupt("return",f().get("https://maps.googleapis.com/maps/api/geocode/json",{params:o}).then((function(e){var t;return null===(t=e.data.results[0])||void 0===t?void 0:t.formatted_address})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}var g=n(5958),v=n(46417);var m=(0,i.GoogleApiWrapper)({apiKey:l.kr})((function(e){var t=(0,a.useState)(),n=(0,u.Z)(t,2),s=n[0],f=n[1],p=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n,o,u){var a,i,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.latLng,i={lat:a.lat(),lng:a.lng()},e.setLocation(i),t.next=5,d(i,l.kr);case 5:c=t.sent,e.setAddress(c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),m=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){var o,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={lat:null===n||void 0===n?void 0:n.lat,lng:null===n||void 0===n?void 0:n.lng},e.setLocation(o),t.next=4,d(o,l.kr);case 4:u=t.sent,e.setAddress(u);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};f(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){y()}),[]);for(var b=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}],O=new e.google.maps.LatLngBounds,h=0;h<b.length;h++)O.extend(b[h]);return(0,v.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,v.jsx)("button",{className:"map-button",type:"button",onClick:function(){y(),m(s)},children:(0,v.jsx)(g.nDs,{})}),(0,v.jsx)(i.Map,{cursor:"pointer",onClick:p,google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,v.jsx)(i.Marker,{position:e.location,icon:{url:c,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},24010:function(e,t,n){n.r(t);var r=n(1413),o=n(93433),u=n(4942),a=n(29439),i=n(47313),l=n(58467),c=n(34491),s=n(18197),f=n(77181),d=n(68197),p=n(59624),g=n(66672),v=n(59491),m=n(2717),y=n(90954),b=n(24511),O=n(73431),h=n(75336),j=n(97388),w=n(44337),_=n(16611),P=n(17649),S=n(47168),Z=n(97421),x=n(46417);t.default=function(){var e=(0,b.$)().t,t=(0,m.v9)((function(e){return e.menu}),m.wU).activeMenu,n=(0,m.I0)(),M=s.Z.useForm(),E=(0,a.Z)(M,1)[0],k=(0,l.s0)(),A=(0,l.UO)().id,L=(0,m.v9)((function(e){return e.globalSettings}),m.wU).settings,C=(0,m.v9)((function(e){return e.globalSettings.settings}),m.wU).google_map_key,R=(0,i.useState)((0,P.Z)(L)),U=(0,a.Z)(R,2),B=U[0],G=U[1],N=(0,i.useState)(!1),I=(0,a.Z)(N,2),T=I[0],D=I[1],V=(0,i.useState)(!1),K=(0,a.Z)(V,2),W=K[0],F=K[1],q=(0,m.v9)((function(e){return e.formLang}),m.wU),J=q.languages,z=q.defaultLang;(0,i.useEffect)((function(){return function(){var e=E.getFieldsValue(!0);e.open_time=JSON.stringify(null===e||void 0===e?void 0:e.open_time),e.close_time=JSON.stringify(null===e||void 0===e?void 0:e.close_time),n((0,y.nc)({activeMenu:t,data:e}))}}),[]);var H=function(e){F(!0),w.Z.getById(e).then((function(e){var t,n=e.data;G({lat:Number(null===n||void 0===n?void 0:n.location.latitude),lng:Number(null===n||void 0===n?void 0:n.location.longitude)}),E.setFieldsValue((0,r.Z)((0,r.Z)((0,r.Z)({},n),function(e){if(!e)return{};var t=e.translations,n=J.map((function(e){var n;return(0,u.Z)({},"title[".concat(e.locale,"]"),null===(n=t.find((function(t){return t.locale===e.locale})))||void 0===n?void 0:n.title)}));return Object.assign.apply(Object,[{}].concat((0,o.Z)(n)))}(n)),{},{address:null===(t=n.address)||void 0===t?void 0:t.address}))})).finally((function(){n((0,y.A_)(t)),F(!1)}))};(0,i.useEffect)((function(){t.refetch&&H(A)}),[t.refetch]);var $=(0,S.usePlacesWidget)({apiKey:C||Z.kr,onPlaceSelected:function(e){var t={lat:null===e||void 0===e?void 0:e.geometry.location.lat(),lng:null===e||void 0===e?void 0:e.geometry.location.lng()};G(t),E.setFieldsValue((0,u.Z)({},"address[".concat(z,"]"),null===e||void 0===e?void 0:e.formatted_address))}}),Q=$.ref;return(0,x.jsx)(f.Z,{loading:W,title:e("edit.branch"),className:"h-100",extra:(0,x.jsx)(O.Z,{}),children:(0,x.jsxs)(s.Z,{name:"branch-add",layout:"vertical",onFinish:function(o){var u={title:(0,h.Z)(J,o,"title"),address:{address:o.address,office:null,house:null,floor:null},location:{longitude:B.lng,latitude:B.lat}};D(!0);var a="seller/branch";w.Z.update(A,u).then((function(){c.Am.success(e("successfully.created")),n((0,y.ph)((0,r.Z)((0,r.Z)({},t),{},{nextUrl:a}))),k("/".concat(a)),n((0,_._)())})).finally((function(){return D(!1)}))},form:E,initialValues:(0,r.Z)({},t.data),className:"d-flex flex-column h-100",children:[(0,x.jsxs)(d.Z,{gutter:12,children:[(0,x.jsx)(p.Z,{span:12,children:J.map((function(t,n){return(0,x.jsx)(s.Z.Item,{label:e("title"),name:"title[".concat(t.locale,"]"),rules:[{required:t.locale===z,message:e("required")}],hidden:t.locale!==z,children:(0,x.jsx)(g.Z,{})},"title"+n)}))}),(0,x.jsx)(p.Z,{span:12,children:(0,x.jsx)(s.Z.Item,{label:e("address"),name:"address",rules:[{required:!0,message:e("required")}],children:(0,x.jsx)("input",{className:"address-input",ref:Q,placeholder:""})})}),(0,x.jsx)(p.Z,{span:24,children:(0,x.jsx)(j.Z,{location:B,setLocation:G,setAddress:function(e){return E.setFieldsValue({address:e})}})})]}),(0,x.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,x.jsx)("div",{className:"pb-5",children:(0,x.jsx)(v.Z,{type:"primary",htmlType:"submit",loading:T,children:e("submit")})})})]})})}},47168:function(e,t,n){e.exports=n(34317)},91318:function(e,t,n){function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=u?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(47313)),u=i(n(75192)),a=i(n(93754));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e){var t=e.onPlaceSelected,n=e.apiKey,r=e.libraries,u=e.inputAutocompleteValue,i=e.options,l=e.googleMapsScriptBaseUrl,f=e.refProp,d=e.language,p=s(e,["onPlaceSelected","apiKey","libraries","inputAutocompleteValue","options","googleMapsScriptBaseUrl","refProp","language"]),g=(0,a.default)({ref:f,googleMapsScriptBaseUrl:l,onPlaceSelected:t,apiKey:n,libraries:r,inputAutocompleteValue:u,options:i,language:d}).ref;return o.default.createElement("input",c({ref:g},p))}f.propTypes={apiKey:u.default.string,libraries:u.default.arrayOf(u.default.string),ref:u.default.oneOfType([u.default.func,u.default.shape({current:u.default.any})]),googleMapsScriptBaseUrl:u.default.string,onPlaceSelected:u.default.func,inputAutocompleteValue:u.default.string,options:u.default.shape({componentRestrictions:u.default.object,bounds:u.default.object,location:u.default.object,offset:u.default.number,origin:u.default.object,radius:u.default.number,sessionToken:u.default.object,types:u.default.arrayOf(u.default.string)}),language:u.default.string};var d=(0,o.forwardRef)((function(e,t){return o.default.createElement(f,c({},e,{refProp:t}))}));t.default=d},56236:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GOOGLE_MAP_SCRIPT_BASE_URL=void 0;t.GOOGLE_MAP_SCRIPT_BASE_URL="https://maps.googleapis.com/maps/api/js"},34317:function(e,t,n){Object.defineProperty(t,"usePlacesWidget",{enumerable:!0,get:function(){return o.default}});var r=u(n(91318)),o=u(n(93754));function u(e){return e&&e.__esModule?e:{default:e}}},93754:function(e,t,n){function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.ref,n=e.onPlaceSelected,r=e.apiKey,i=e.libraries,l=void 0===i?"places":i,s=e.inputAutocompleteValue,f=void 0===s?"new-password":s,d=e.options,p=(d=void 0===d?{}:d).types,g=void 0===p?["(cities)"]:p,v=d.componentRestrictions,m=d.fields,y=void 0===m?["address_components","geometry.location","place_id","formatted_address"]:m,b=d.bounds,O=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(d,["types","componentRestrictions","fields","bounds"]),h=e.googleMapsScriptBaseUrl,j=void 0===h?a.GOOGLE_MAP_SCRIPT_BASE_URL:h,w=e.language,_=(0,o.useRef)(null),P=(0,o.useRef)(null),S=(0,o.useRef)(null),Z=(0,o.useRef)(null),x=w?"&language=".concat(w):"",M="".concat(j,"?libraries=").concat(l,"&key=").concat(r).concat(x),E=(0,o.useCallback)((function(){return(0,u.loadGoogleMapScript)(j,M)}),[j,M]);return(0,o.useEffect)((function(){var e=c(c({},O),{},{fields:y,types:g,bounds:b});if(v&&(e.componentRestrictions=v),!S.current&&_.current&&u.isBrowser){t&&!t.current&&(t.current=_.current);var o=function(){var t;return"undefined"===typeof google?console.error("Google has not been found. Make sure your provide apiKey prop."):null!==(t=google.maps)&&void 0!==t&&t.places?!_.current instanceof HTMLInputElement?console.error("Input ref must be HTMLInputElement."):(S.current=new google.maps.places.Autocomplete(_.current,e),void(S.current&&(P.current=S.current.addListener("place_changed",(function(){n&&S&&S.current&&n(S.current.getPlace(),_.current,S.current)}))))):console.error("Google maps places API must be loaded.")};return r?E().then((function(){return o()})):o(),function(){return P.current?P.current.remove():void 0}}}),[]),(0,o.useEffect)((function(){var e;(null===o.default||void 0===o.default||null===(e=o.default.version)||void 0===e||!e.startsWith("18"))&&u.isBrowser&&window.MutationObserver&&_.current&&_.current instanceof HTMLInputElement&&(Z.current=new MutationObserver((function(){Z.current.disconnect(),_.current&&(_.current.autocomplete=f)})),Z.current.observe(_.current,{attributes:!0,attributeFilter:["autocomplete"]}))}),[f]),(0,o.useEffect)((function(){S.current&&S.current.setFields(y)}),[y]),(0,o.useEffect)((function(){S.current&&S.current.setBounds(b)}),[b]),(0,o.useEffect)((function(){S.current&&S.current.setComponentRestrictions(v)}),[v]),(0,o.useEffect)((function(){S.current&&S.current.setOptions(O)}),[O]),{ref:_,autocompleteRef:S}};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=u?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(47313)),u=n(39003),a=n(56236);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},39003:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadGoogleMapScript=t.isBrowser=void 0;var n="undefined"!==typeof window&&window.document;t.isBrowser=n;t.loadGoogleMapScript=function(e,t){if(!n)return Promise.resolve();if("undefined"!==typeof google&&google.maps&&google.maps.api)return Promise.resolve();var r=document.querySelectorAll('script[src*="'.concat(e,'"]'));if(r&&r.length)return new Promise((function(e){if("undefined"!==typeof google)return e();r[0].addEventListener("load",(function(){return e()}))}));var o=new URL(t);o.searchParams.set("callback","__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__");var u=document.createElement("script");return u.src=o.toString(),new Promise((function(e){window.__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__=e,document.body.appendChild(u)}))}}}]);