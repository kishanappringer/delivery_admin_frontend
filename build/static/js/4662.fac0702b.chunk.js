"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4662],{32380:function(e,n,t){t.d(n,{o:function(){return d}});var a=t(1413),r=t(29439),i=t(45987),l=t(47313),u=t(84762),s=t(72652),c=t(46417),o=["fetchOptions","refetch"],d=function(e){var n=e.fetchOptions,t=e.refetch,d=void 0!==t&&t,p=(0,i.Z)(e,o),v=(0,l.useState)(!1),m=(0,r.Z)(v,2),f=m[0],Z=m[1],h=(0,l.useState)([]),x=(0,r.Z)(h,2),j=x[0],y=x[1];return(0,c.jsx)(u.Z,(0,a.Z)({treeLine:!0,treeData:f?[]:j,treeDefaultExpandAll:!0,labelInValue:!0,onFocus:function(){j.length&&!d||(Z(!0),n().then((function(e){y(e),Z(!1)})))},notFoundContent:f?(0,c.jsx)(s.Z,{size:"small"}):"no results"},p))}},76076:function(e,n,t){var a=t(1413),r=t(29439),i=t(47313),l=t(55291),u=t(18197),s=t(68197),c=t(59624),o=t(32697),d=t(45705),p=t(59491),v=t(72652),m=t(5170),f=t(2717),Z=t(17101),h=t(90954),x=t(24511),j=t(58467),y=t(46417);n.Z=function(e){var n=e.next,t=e.prev,g=(0,x.$)().t,b=(0,f.I0)(),k=(0,j.UO)().uuid,q=(0,f.v9)((function(e){return e.menu}),f.wU).activeMenu,I=(0,i.useState)([]),w=(0,r.Z)(I,2),N=w[0],S=w[1],F=(0,i.useState)(!1),_=(0,r.Z)(F,2),O=_[0],C=_[1],U=(0,i.useState)(!1),L=(0,r.Z)(U,2),V=L[0],E=L[1];(0,i.useEffect)((function(){C(!0),m.Z.getAllGroups({valid:!0}).then((function(e){var n=e.data.map((function(e){var n;return{id:e.id,label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id}}));S(n)})).finally((function(){return C(!1)}))}),[]);return(0,y.jsx)(u.Z,{layout:"vertical",initialValues:(0,a.Z)({},q.data),onFinish:function(e){E(!0);var t=e.extras||[];t.sort((function(e,n){return e-n})),Z.Z.extras(k,{extras:t}).then((function(){b((0,h.nc)({activeMenu:q,data:(0,a.Z)((0,a.Z)({},q.data),{},{extras:t})})),l.ZP.success(g("product.extras.saved")),n()})).finally((function(){return E(!1)}))},children:O?(0,y.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,y.jsx)(v.Z,{size:"large",className:"py-5"})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.Z,{gutter:12,children:(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:g("extras"),name:"extras",children:(0,y.jsx)(o.Z.Group,{options:N})})})}),(0,y.jsxs)(d.Z,{children:[(0,y.jsx)(p.Z,{onClick:t,children:g("prev")}),(0,y.jsx)(p.Z,{type:"primary",htmlType:"submit",loading:V,children:g("next")})]})]})})}},78873:function(e,n,t){var a=t(1413),r=t(93433),i=t(4942),l=t(29439),u=t(47313),s=t(83371),c=t(68197),o=t(59624),d=t(45705),p=t(59491),v=t(72652),m=t(2717),f=t(58467),Z=t(90954),h=t(95882),x=t(24511),j=t(17101),y=t(97421),g=t(46417);n.Z=function(e){var n,t,b,k,q,I,w=e.prev,N=(0,x.$)().t,S=(0,m.v9)((function(e){return e.menu}),m.wU).activeMenu,F=(0,m.v9)((function(e){return e.formLang}),m.wU),_=F.defaultLang,O=F.languages,C=(0,m.v9)((function(e){return e.product}),m.wU).params,U=(0,f.s0)(),L=(0,m.I0)(),V=(0,u.useState)({}),E=(0,l.Z)(V,2),M=E[0],T=E[1],A=(0,u.useState)(null),P=(0,l.Z)(A,2),W=P[0],$=P[1],D=(0,f.UO)().uuid;function z(e){$(!0),j.Z.getById(e).then((function(e){var n=(0,a.Z)((0,a.Z)((0,a.Z)({},e.data),function(e){if(null===e||void 0===e||!e.translations)return{};var n=e.translations,t=O.map((function(e){var t,a,r;return r={},(0,i.Z)(r,"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title),(0,i.Z)(r,"description[".concat(e.locale,"]"),null===(a=n.find((function(n){return n.locale===e.locale})))||void 0===a?void 0:a.description),r}));return Object.assign.apply(Object,[{}].concat((0,r.Z)(t)))}(e.data)),{},{properties:e.data.properties.map((function(e,n){var t;return t={id:n},(0,i.Z)(t,"key[".concat(e.locale,"]"),e.key),(0,i.Z)(t,"value[".concat(e.locale,"]"),e.value),t})),translation:void 0,translations:void 0});T(n)})).finally((function(){return $(!1)}))}return(0,u.useEffect)((function(){z(D)}),[]),W?(0,g.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,g.jsx)(v.Z,{size:"large",className:"py-5"})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(s.Z,{title:N("product.info"),bordered:!0,children:[(0,g.jsx)(s.Z.Item,{label:"".concat(N("title")," (").concat(_,")"),span:3,children:M["title[".concat(_,"]")]}),(0,g.jsx)(s.Z.Item,{label:"".concat(N("description")," (").concat(_,")"),span:3,children:M["description[".concat(_,"]")]}),(0,g.jsx)(s.Z.Item,{label:N("shop"),span:1.5,children:null===(n=M.shop)||void 0===n?void 0:n.translation.title}),(0,g.jsx)(s.Z.Item,{label:N("category"),span:1.5,children:null===(t=M.category)||void 0===t?void 0:t.translation.title}),(0,g.jsx)(s.Z.Item,{label:N("brand"),span:1.5,children:null===(b=M.brand)||void 0===b?void 0:b.title}),(0,g.jsx)(s.Z.Item,{label:N("unit"),span:1.5,children:null===(k=M.unit)||void 0===k?void 0:k.translation.title}),(0,g.jsx)(s.Z.Item,{label:N("images"),span:3,children:(0,g.jsx)(c.Z,{gutter:12,children:null===M||void 0===M||null===(q=M.galleries)||void 0===q?void 0:q.map((function(e,n){return(0,g.jsx)(o.Z,{children:(0,g.jsx)("img",{width:80,alt:"product",src:y.bV+e.path})},"image"+n)}))})}),(0,g.jsx)(s.Z.Item,{label:N("tax"),children:M.tax}),(0,g.jsx)(s.Z.Item,{label:N("min.quantity"),children:M.min_qty}),(0,g.jsx)(s.Z.Item,{label:N("max.quantity"),children:M.max_qty})]}),null===(I=M.stocks)||void 0===I?void 0:I.map((function(e,n){return e?(0,g.jsxs)(s.Z,{bordered:!0,className:"mt-4",children:[(0,g.jsx)(s.Z.Item,{label:N("price"),span:2,children:e.price}),(0,g.jsx)(s.Z.Item,{label:N("quantity"),span:2,children:e.quantity}),e.extras.map((function(e,n){var t,a;return(0,g.jsx)(s.Z.Item,{label:null===e||void 0===e||null===(t=e.group)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title,children:null===e||void 0===e?void 0:e.value},"extra"+n)}))]},"desc"+n):""})),(0,g.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,g.jsxs)(d.Z,{children:[(0,g.jsx)(p.Z,{onClick:w,children:N("prev")}),(0,g.jsx)(p.Z,{type:"primary",onClick:function(){var e=(0,a.Z)({status:void 0},C),n="catalog/products";L((0,Z.ph)((0,a.Z)((0,a.Z)({},S),{},{nextUrl:n}))),L((0,h.t2)(e)),U("/".concat(n))},children:N("finish")})]})})]})}},70432:function(e,n,t){t.d(n,{Z:function(){return N}});var a=t(93433),r=t(1413),i=t(29439),l=t(47313),u=t(18197),s=t(45705),c=t(59491),o=t(84695),d=t(55291),p=t(68197),v=t(59624),m=t(66672),f=t(78508),Z=t(12019),h=t(47515),x=t(2717),j=t(73431),y=t(46417);function g(e){var n=e.editData,t=e.handleCancel,a=e.editProperty,s=u.Z.useForm(),c=(0,i.Z)(s,1)[0],d=(0,x.v9)((function(e){return e.formLang}),x.wU),f=d.defaultLang,Z=d.languages;return(0,l.useEffect)((function(){c.setFieldsValue(n)}),[n]),(0,y.jsxs)(o.Z,{title:"Edit product property",visible:!!n,okText:"Save",onCancel:t,onOk:function(){return c.submit()},children:[(0,y.jsx)(p.Z,{className:"mb-3",children:(0,y.jsx)(v.Z,{span:24,children:(0,y.jsx)(j.Z,{})})}),(0,y.jsx)(u.Z,{form:c,layout:"vertical",onFinish:function(e){var t=(0,r.Z)((0,r.Z)({},n),e);a(t)},children:(0,y.jsxs)(p.Z,{className:"mt-4",children:[(0,y.jsx)(v.Z,{span:24,children:Z.map((function(e){return(0,y.jsx)(u.Z.Item,{label:"Key",name:"key[".concat(e.locale,"]"),rules:[{required:e.locale===f,message:""}],hidden:e.locale!==f,children:(0,y.jsx)(m.Z,{})},"key"+e.locale)}))}),(0,y.jsx)(v.Z,{span:24,children:Z.map((function(e){return(0,y.jsx)(u.Z.Item,{label:"Value",name:"value[".concat(e.locale,"]"),rules:[{required:e.locale===f,message:""}],hidden:e.locale!==f,children:(0,y.jsx)(m.Z,{})},"value"+e.locale)}))})]})})]})}var b=t(90954),k=t(17101),q=t(24511),I=t(58467),w=t(55940),N=function(e){var n,t=e.next,j=e.prev,N=(0,q.$)().t,S=(0,x.I0)(),F=(0,I.UO)().uuid,_=(0,x.v9)((function(e){return e.menu}),x.wU).activeMenu,O=(0,x.v9)((function(e){return e.formLang}),x.wU),C=O.defaultLang,U=O.languages,L=u.Z.useForm(),V=(0,i.Z)(L,1)[0],E=(0,l.useState)(null),M=(0,i.Z)(E,2),T=M[0],A=M[1],P=(0,l.useState)((null===(n=_.data)||void 0===n?void 0:n.properties)||[]),W=(0,i.Z)(P,2),$=W[0],D=W[1],z=(0,l.useState)(!1),K=(0,i.Z)(z,2),B=K[0],G=K[1],X=[{key:"2",title:N("key"),render:function(e,n){return n["key[".concat(C,"]")]}},{key:"4",title:N("value"),render:function(e,n){return n["value[".concat(C,"]")]}},{key:"5",title:N("options"),render:function(e){return(0,y.jsxs)(s.Z,{children:[(0,y.jsx)(c.Z,{type:"primary",icon:(0,y.jsx)(Z.Z,{}),onClick:function(){return A(e)}}),(0,y.jsx)(w.Z,{type:"primary",danger:!0,icon:(0,y.jsx)(h.Z,{}),onClick:function(){return H(e)}})]})}}];(0,l.useEffect)((function(){if($.length&&F){var e=$;S((0,b.nc)({activeMenu:_,data:(0,r.Z)((0,r.Z)({},_.data),{},{properties:e})}))}}),[$]);var H=function(e){o.Z.confirm({title:N("delete.product"),okText:N("yes"),okType:"danger",onOk:function(){D((function(n){return n.filter((function(n){return n.id!==e.id}))}))}})},J=function(){return A(null)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.Z,{layout:"vertical",form:V,onFinish:function(e){var n=parseInt(50*Math.random()),t=(0,r.Z)((0,r.Z)({},e),{},{id:n});D((function(e){return[].concat((0,a.Z)(e),[t])})),V.resetFields()},children:(0,y.jsxs)(p.Z,{gutter:12,className:"mb-3",children:[(0,y.jsx)(v.Z,{span:8,children:U.map((function(e){return(0,y.jsx)(u.Z.Item,{name:"key[".concat(e.locale,"]"),rules:[{required:e.locale===C,message:N("required")}],hidden:e.locale!==C,children:(0,y.jsx)(m.Z,{placeholder:"Key"})},"key"+e.locale)}))}),(0,y.jsx)(v.Z,{span:8,children:U.map((function(e){return(0,y.jsx)(u.Z.Item,{name:"value[".concat(e.locale,"]"),rules:[{required:e.locale===C,message:N("required")}],hidden:e.locale!==C,children:(0,y.jsx)(m.Z,{placeholder:N("value")})},"value"+e.locale)}))}),(0,y.jsx)(v.Z,{span:4,children:(0,y.jsx)(c.Z,{type:"primary",htmlType:"submit",children:N("save")})})]})}),(0,y.jsx)(f.Z,{scroll:{x:!0},columns:X,dataSource:$,pagination:!1,rowKey:function(e){return e.id}}),T&&(0,y.jsx)(g,{editData:T,handleCancel:J,editProperty:function(e){D((function(n){return n.map((function(n){return n.id===e.id?e:n}))})),J()}}),(0,y.jsxs)(s.Z,{className:"mt-4",children:[(0,y.jsx)(c.Z,{onClick:j,children:N("prev")}),(0,y.jsx)(c.Z,{type:"primary",onClick:function(){G(!0);var e=function(){var e=[],n=[];return $.forEach((function(t){var a={},r={};U.forEach((function(e){a[e.locale]=t["key[".concat(e.locale,"]")],r[e.locale]=t["value[".concat(e.locale,"]")]})),e.push(a),n.push(r)})),{key:e,value:n}}();k.Z.properties(F,e).then((function(){d.ZP.success(N("product.properties.saved")),t()})).finally((function(){return G(!1)}))},loading:B,children:N("next")})]})]})}},8597:function(e,n,t){var a=t(4942),r=t(93433),i=t(1413),l=t(29439),u=t(47313),s=t(18197),c=t(68197),o=t(59624),d=t(6289),p=t(74294),v=t(45705),m=t(59491),f=t(2717),Z=t(5170),h=t(47515),x=t(82138),j=t(17101),y=t(90954),g=t(24511),b=t(97421),k=t(58467),q=t(89281),I=t(51282),w=t(55940),N=t(46417);n.Z=function(e){var n=e.prev,t=e.next,S=(0,g.$)().t,F=s.Z.useForm(),_=(0,l.Z)(F,1)[0],O=(0,f.I0)(),C=(0,k.UO)().uuid,U=(0,f.v9)((function(e){return e.menu}),f.wU).activeMenu,L=(0,u.useState)([]),V=(0,l.Z)(L,2),E=V[0],M=V[1],T=(0,u.useState)(null),A=(0,l.Z)(T,2),P=A[0],W=A[1],$=(0,u.useState)(null),D=(0,l.Z)($,2),z=D[0],K=D[1];function B(e){var n,t,a=E.find((function(n){return n.extra_group_id===e}));return null===a||void 0===a||null===(n=a.group)||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title}var G=function(e){var n,t={search:e,addon:1,shop_id:null===(n=U.data.shop)||void 0===n?void 0:n.value,stutus:"published"};return j.Z.getAll(t).then((function(e){return e.data.map((function(e){var n;return{label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,value:null===e||void 0===e?void 0:e.id}}))}))};return(0,u.useEffect)((function(){Z.Z.getAllValues().then((function(e){var n=e.data;return M(n)})),function(e){K(!0),j.Z.getById(e).then((function(e){var n,t,l,u={extras:null===(n=e.data.stocks[0])||void 0===n?void 0:n.extras.map((function(e){return e.extra_group_id})),stocks:e.data.stocks.map((function(e){var n;return(0,i.Z)((0,i.Z)((0,i.Z)({},e),Object.assign.apply(Object,[{}].concat((0,r.Z)(e.extras.map((function(e,n){return(0,a.Z)({},"extras[".concat(n,"]"),e.id)})))))),{},{addons:null===e||void 0===e||null===(n=e.addons)||void 0===n?void 0:n.map((function(e){var n,t,a;return{label:null===e||void 0===e||null===(n=e.product)||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e||null===(a=e.product)||void 0===a?void 0:a.id}})),quantity:e.quantity||0,extras:void 0})}))};_.setFieldsValue({stocks:null!==(t=e.data)&&void 0!==t&&null!==(l=t.stocks)&&void 0!==l&&l.length?u.stocks:[""]})})).finally((function(){K(!1)}))}(C)}),[]),(0,N.jsx)(N.Fragment,{children:z?(0,N.jsx)(I.Z,{}):(0,N.jsxs)(s.Z,{layout:"vertical",form:_,onFinish:function(e){var n,a;W(!0);var r,i=e.stocks;r=!(null===(n=U.data)||void 0===n||null===(a=n.extras)||void 0===a||!a.length)?i.map((function(e){var n,t;return{price:e.price,quantity:e.quantity,ids:null===(n=U.data)||void 0===n?void 0:n.extras.map((function(n,t){return e["extras[".concat(t,"]")]})),addons:e.addons?null===(t=e.addons)||void 0===t?void 0:t.map((function(e){return e.value})):[]}})):[{price:i[0].price,quantity:i[0].quantity,addons:i[0].addons?i[0].addons.map((function(e){return e.value})):[]}],j.Z.stocks(C,{extras:r}).then((function(){return t()})).finally((function(){return W(!1)}))},children:[(0,N.jsx)(s.Z.List,{name:"stocks",children:function(e,n){var t,a,r=n.add,l=n.remove;return(0,N.jsxs)("div",{children:[e.map((function(e,n){var t,a,r,i;return(0,N.jsxs)(c.Z,{gutter:12,align:"middle",style:{flexWrap:"nowrap",overflowX:"auto"},hidden:!(null!==(t=U.data)&&void 0!==t&&null!==(a=t.extras)&&void 0!==a&&a.length)&&e.key,children:[(0,N.jsx)(o.Z,{children:(0,N.jsx)(s.Z.Item,{label:S("price"),name:[n,"price"],rules:[{required:!0,message:S("required")}],children:(0,N.jsx)(d.Z,{min:1,className:"w-100",style:{minWidth:200}})})}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(s.Z.Item,{label:S("quantity"),name:[n,"quantity"],rules:[{required:!0,message:S("required")}],children:(0,N.jsx)(d.Z,{min:1,className:"w-100",style:{minWidth:200}})})}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(s.Z.Item,{label:S("addons"),name:[n,"addons"],rules:[{required:!1,message:S("required")}],children:(0,N.jsx)(q.h,{mode:"multiple",style:{minWidth:"300px"},fetchOptions:G,allowClear:!0})})}),null===(r=U.data)||void 0===r||null===(i=r.extras)||void 0===i?void 0:i.map((function(e,t){return(0,N.jsx)(o.Z,{children:(0,N.jsx)(s.Z.Item,{label:B(e),name:[n,"extras[".concat(t,"]")],rules:[{required:!0,message:S("required")}],children:(0,N.jsx)(p.Z,{className:"w-100",style:{minWidth:200},children:E.filter((function(n){return n.extra_group_id===e})).map((function(e){return(0,N.jsx)(p.Z.Option,{value:e.id,children:(0,N.jsxs)(v.Z,{children:["color"===e.group.type&&(0,N.jsx)("div",{className:"extra-color-wrapper-contain",style:{backgroundColor:e.value}}),"image"===e.group.type?null:e.value,"image"===e.group.type&&(0,N.jsx)("img",{src:b.bV+e.value,alt:e.value,className:"extra-img-wrapper-contain"})]})},e.id)}))})})},"extra"+e)})),(0,N.jsx)(o.Z,{children:e.key?(0,N.jsx)(w.Z,{type:"primary",className:"mt-2",danger:!0,icon:(0,N.jsx)(h.Z,{}),onClick:function(){return l(e.name)}}):""})]},e.key)})),null!==(t=U.data)&&void 0!==t&&null!==(a=t.extras)&&void 0!==a&&a.length?(0,N.jsx)(m.Z,{type:"dashed",style:{width:"100%"},onClick:function(){r(),function(){var e=_.getFieldsValue(!0);O((0,y.nc)({activeMenu:U,data:(0,i.Z)((0,i.Z)({},U.data),{},{stocks:e.stocks})}))}()},children:(0,N.jsxs)(v.Z,{children:[(0,N.jsx)(x.Z,{}),S("add")]})}):""]})}}),(0,N.jsxs)(v.Z,{className:"mt-4",children:[(0,N.jsx)(m.Z,{onClick:n,children:S("prev")}),(0,N.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:!!P,children:S("next")})]})]})})}},97307:function(e,n,t){var a=t(74165),r=t(4942),i=t(93433),l=t(15861),u=t(1413),s=t(29439),c=t(47313),o=t(18197),d=t(68197),p=t(59624),v=t(66672),m=t(6289),f=t(74294),Z=t(86345),h=t(59491),x=t(89281),j=t(53149),y=t(11216),g=t(30763),b=t(2717),k=t(17101),q=t(90954),I=t(31055),w=t(58467),N=t(32380),S=t(24511),F=t(37889),_=t(49080),O=t(46417);n.Z=function(e){var n,t,C=e.next,U=e.action_type,L=void 0===U?"":U,V=(0,S.$)().t,E=o.Z.useForm(),M=(0,s.Z)(E,1)[0],T=(0,b.I0)(),A=(0,w.UO)().uuid,P=(0,w.s0)(),W=(0,c.useState)(null),$=(0,s.Z)(W,2),D=$[0],z=$[1],K=(0,b.v9)((function(e){return e.menu}),b.wU).activeMenu,B=(0,b.v9)((function(e){return e.formLang}),b.wU),G=B.defaultLang,X=B.languages,H=(0,c.useState)(null!==(n=K.data)&&void 0!==n&&n.images?null===(t=K.data)||void 0===t?void 0:t.images:[]),J=(0,s.Z)(H,2),Q=J[0],R=J[1],Y=(0,c.useState)(!1),ee=(0,s.Z)(Y,2),ne=ee[0],te=ee[1],ae=(0,c.useState)([]),re=(0,s.Z)(ae,2),ie=re[0],le=re[1];function ue(){return(ue=(0,l.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n},e.abrupt("return",j.Z.get(t).then((function(e){return e.data.map((function(e){return{label:e.translation?e.translation.title:"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=(0,l.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.Z.search(n).then((function(e){return e.data.map((function(e){return{label:e.title,value:e.id}}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=(0,l.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={perPage:100,type:"main"},e.abrupt("return",g.Z.getAll(n).then((function(e){return e.data.map((function(e){var n;return{title:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id,key:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){return function(){var e=M.getFieldsValue(!0);T((0,q.nc)({activeMenu:K,data:(0,u.Z)((0,u.Z)({},K.data),e)}))}}),[]);return(0,c.useEffect)((function(){I.Z.getAll({perPage:100,page:1,active:1}).then((function(e){var n=e.data;return le(function(e){return e.map((function(e){var n;return{label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id}}))}(n))}))}),[]),(0,O.jsxs)(o.Z,{layout:"vertical",form:M,initialValues:(0,u.Z)({active:!0},K.data),onFinish:function(e){var n,t,a,l;te(!0);var s=(0,u.Z)((0,u.Z)({},e),{},{active:Number(e.active),brand_id:null===(n=e.brand)||void 0===n?void 0:n.value,category_id:null===(t=e.category)||void 0===t?void 0:t.value,shop_id:null===(a=e.shop)||void 0===a?void 0:a.value,unit_id:null===(l=e.unit)||void 0===l?void 0:l.value,images:void 0,brand:void 0,category:void 0,shop:void 0,unit:void 0},Object.assign.apply(Object,[{}].concat((0,i.Z)(Q.map((function(e,n){return(0,r.Z)({},"images[".concat(n,"]"),e.name)}))))));"edit"===L?function(e,n){k.Z.update(A,n).then((function(){T((0,q.nc)({activeMenu:K,data:e})),C()})).catch((function(e){return z(e.response.data.params)})).finally((function(){return te(!1)}))}(e,s):function(e,n){k.Z.create(n).then((function(n){var t=n.data;T((0,q.SS)({id:"product-".concat(t.uuid),url:"product/".concat(t.uuid),name:V("add.product"),data:e,refetch:!1})),P("/product/".concat(t.uuid,"/?step=1"))})).catch((function(e){return z(e.response.data.params)})).finally((function(){return te(!1)}))}(e,s)},children:[(0,O.jsxs)(d.Z,{gutter:12,children:[(0,O.jsx)(p.Z,{span:12,children:X.map((function(e){return(0,O.jsx)(o.Z.Item,{label:V("name"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===G,message:V("required")}],hidden:e.locale!==G,children:(0,O.jsx)(v.Z,{})},"name"+e.id)}))}),(0,O.jsx)(p.Z,{span:12,className:"mb-4",children:X.map((function(e){return(0,O.jsx)(o.Z.Item,{label:V("description"),name:"description[".concat(e.locale,"]"),rules:[{required:e.locale===G,message:V("required")}],hidden:e.locale!==G,children:(0,O.jsx)(_.Z,{rows:3})},"description"+e.id)}))}),(0,O.jsx)(p.Z,{span:12,children:(0,O.jsx)(o.Z.Item,{label:V("shop/restaurant"),name:"shop",rules:[{required:!0,message:V("required")}],children:(0,O.jsx)(x.h,{fetchOptions:function(e){return ue.apply(this,arguments)},disabled:"edit"===L})})}),(0,O.jsx)(p.Z,{span:12,children:(0,O.jsx)(o.Z.Item,{label:V("brand"),name:"brand",rules:[{required:!1,message:V("required")}],children:(0,O.jsx)(x.h,{fetchOptions:function(e){return se.apply(this,arguments)}})})}),(0,O.jsx)(p.Z,{span:12,children:(0,O.jsx)(o.Z.Item,{label:V("category"),name:"category",rules:[{required:!0,message:V("required")}],children:(0,O.jsx)(N.o,{fetchOptions:function(){return ce.apply(this,arguments)}})})}),(0,O.jsx)(p.Z,{span:6,children:(0,O.jsx)(o.Z.Item,{label:V("tax"),name:"tax",rules:[{required:!0,message:V("required")}],children:(0,O.jsx)(m.Z,{min:0,className:"w-100",addonAfter:"%"})})}),(0,O.jsx)(p.Z,{span:6,children:(0,O.jsx)(o.Z.Item,{label:V("qr.code"),name:"bar_code",rules:[{required:!0,message:V("required")}],help:null!==D&&void 0!==D&&D.bar_code?D.bar_code[0]:null,validateStatus:null!==D&&void 0!==D&&D.bar_code?"error":"success",children:(0,O.jsx)(v.Z,{className:"w-100"})})}),(0,O.jsx)(p.Z,{span:6,children:(0,O.jsx)(o.Z.Item,{label:V("unit"),name:"unit",rules:[{required:!0,message:V("required")}],children:(0,O.jsx)(f.Z,{labelInValue:!0,filterOption:!1,options:ie})})}),(0,O.jsx)(p.Z,{span:6,children:(0,O.jsx)(o.Z.Item,{label:V("min.qty"),name:"min_qty",rules:[{required:!0,message:V("required")}],children:(0,O.jsx)(m.Z,{min:0,className:"w-100"})})}),(0,O.jsx)(p.Z,{span:6,children:(0,O.jsx)(o.Z.Item,{label:V("max.qty"),name:"max_qty",rules:[{required:!0,message:V("required")}],children:(0,O.jsx)(m.Z,{min:0,className:"w-100"})})}),(0,O.jsx)(p.Z,{span:6,children:(0,O.jsx)(o.Z.Item,{label:V("active"),name:"active",valuePropName:"checked",children:(0,O.jsx)(Z.Z,{})})}),(0,O.jsx)(p.Z,{span:24,children:(0,O.jsx)(o.Z.Item,{label:V("images"),name:"images",children:(0,O.jsx)(F.Z,{type:"products",imageList:Q,setImageList:R,form:M,multiple:!0})})})]}),(0,O.jsx)(h.Z,{type:"primary",htmlType:"submit",loading:ne,children:V("next")})]})}},96077:function(e,n,t){t.d(n,{S:function(){return a}});var a=[{title:"food",content:"First-content"},{title:"food.extras",content:"Second-content"},{title:"stocks",content:"Third-content"},{title:"food.property",content:"Fourth-content"},{title:"finish",content:"Finish-content"}]}}]);