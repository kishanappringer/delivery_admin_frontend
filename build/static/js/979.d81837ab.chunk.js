"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[979],{89802:function(e,n,t){t.d(n,{q:function(){return d}});var a=t(1413),i=t(29439),l=t(45987),r=t(47313),c=t(74294),o=t(72652),u=t(46417),s=["fetchOptions","refetch"],d=function(e){var n=e.fetchOptions,t=e.refetch,d=void 0!==t&&t,v=(0,l.Z)(e,s),h=(0,r.useState)(!1),f=(0,i.Z)(h,2),m=f[0],p=f[1],y=(0,r.useState)([]),Z=(0,i.Z)(y,2),x=Z[0],g=Z[1];return(0,u.jsx)(c.Z,(0,a.Z)((0,a.Z)({labelInValue:!0,filterOption:!1,notFoundContent:m?(0,u.jsx)(o.Z,{size:"small"}):"no results"},v),{},{options:m?[]:x,onFocus:function(){x.length&&!d||(p(!0),n().then((function(e){g(e),p(!1)})))}}))}},53233:function(e,n,t){var a=t(1413),i=t(29439),l=t(47313),r=t(56140),c=t(67251),o=t(45705),u=t(86345),s=t(78267),d=t(37388),v=t(59491),h=t(99587),f=t(24511),m=t(46417),p=r.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,r=e.setColumns,y=e.style,Z=e.size,x=void 0===Z?"":Z,g=e.iconOnly,j=(0,f.$)().t,b=(0,l.useState)(!1),w=(0,i.Z)(b,2),C=w[0],k=w[1],_=(0,m.jsx)(c.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,m.jsx)(c.Z.Item,{children:(0,m.jsxs)(o.Z,{className:"d-flex justify-content-between",children:[(0,m.jsx)(p,{children:e.title}),(0,m.jsx)(u.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));r(n)}(e)}})]})},e+n)}))});return(0,m.jsx)(s.Z,{overlay:_,trigger:["click"],onVisibleChange:function(e){k(e)},visible:C,children:(0,m.jsx)(d.Z,{title:j("change.columns"),children:(0,m.jsx)(v.Z,{style:(0,a.Z)({},y),size:x,icon:(0,m.jsx)(h.Z,{}),children:g?null:j("Columns")})})})}},13945:function(e,n,t){function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return a}})},50979:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var a=t(1413),i=t(29439),l=t(47313),r=t(73591),c=t(66204),o=t(45705),u=t(59491),s=t(37388),d=t(77181),v=t(78508),h=t(2717),f=t(90954),m=t(80314),p=t(13945),y=t(24511),Z=t(84017),x=t(12019),g=t(69893),j=t(84695),b=t(18197),w=t(68197),C=t(59624),k=t(6289),_=t(66672),I=t(89802),N=t(49986),O=t(30554),S=t(26457),z=t(83671),q=t(46417);function V(e){var n,t,a,r,c,o,s,d,v=e.data,m=e.handleCancel,p=(0,y.$)().t,Z=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,x=(0,l.useState)(!1),g=(0,i.Z)(x,2),V=g[0],T=g[1],E=(0,h.I0)();return(0,q.jsx)(j.Z,{visible:!!v,title:p("pay.to.seller"),onCancel:m,footer:[(0,q.jsx)(u.Z,{type:"primary",form:"form",htmlType:"submit",loading:V,children:null!==v&&void 0!==v&&v.id?p("edit"):p("create")},"pay-btn")],children:(0,q.jsx)(b.Z,{initialValues:{cause:null===v||void 0===v?void 0:v.cause,price:null===v||void 0===v?void 0:v.price,answer:null===v||void 0===v?void 0:v.answer,currency_id:(null===v||void 0===v?void 0:v.currency)&&{value:null===v||void 0===v||null===(n=v.currency)||void 0===n?void 0:n.id,label:"".concat(null===v||void 0===v||null===(t=v.currency)||void 0===t?void 0:t.title," (").concat(null===v||void 0===v||null===(a=v.currency)||void 0===a?void 0:a.symbol,")")},payment_id:(null===v||void 0===v?void 0:v.payment)&&{value:null===v||void 0===v||null===(r=v.payment)||void 0===r?void 0:r.id,label:null===v||void 0===v||null===(c=v.payment)||void 0===c?void 0:c.tag},created_by:(null===v||void 0===v?void 0:v.createdBy)&&{value:null===v||void 0===v||null===(o=v.createdBy)||void 0===o?void 0:o.id,label:"".concat(null===v||void 0===v||null===(s=v.createdBy)||void 0===s?void 0:s.firstname," ").concat((null===v||void 0===v||null===(d=v.createdBy)||void 0===d?void 0:d.lastname)||"")}},onFinish:function(e){var n,t,a,i={cause:e.cause,price:e.price,created_by:null===e||void 0===e||null===(n=e.created_by)||void 0===n?void 0:n.value,payment_id:null===e||void 0===e||null===(t=e.payment_id)||void 0===t?void 0:t.value,currency_id:null===e||void 0===e||null===(a=e.currency_id)||void 0===a?void 0:a.value,answer:e.answer};T(!0),null!==v&&void 0!==v&&v.id?z.a.update(v.id,i).then((function(){m(),E((0,f.xo)(Z))})).finally((function(){return T(!1)})):z.a.create(i).then((function(){m(),E((0,f.xo)(Z))})).finally((function(){return T(!1)}))},id:"form",layout:"vertical",children:(0,q.jsxs)(w.Z,{gutter:24,children:[(0,q.jsxs)(C.Z,{span:12,children:[(0,q.jsx)(b.Z.Item,{name:"created_by",rules:[{required:!0,message:p("required")}],label:p("seller"),children:(0,q.jsx)(I.q,{className:"w-100",placeholder:p("select.seller"),fetchOptions:function(){return N.Z.getAll({role:"seller"}).then((function(e){return e.data.map((function(e){return{value:e.id,label:"".concat(e.firstname," ").concat(e.lastname||""),key:e.id}}))}))}})}),(0,q.jsx)(b.Z.Item,{name:"payment_id",rules:[{required:!0,message:p("required")}],label:p("payment"),children:(0,q.jsx)(I.q,{className:"w-100",placeholder:p("select.payment.type"),fetchOptions:function(){return S.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active&&"wallet"===e.tag})).map((function(e){return{value:e.id,label:e.tag,key:e.id}}))}))}})})]}),(0,q.jsxs)(C.Z,{span:12,children:[(0,q.jsx)(b.Z.Item,{name:"currency_id",rules:[{required:!0,message:p("required")}],label:p("currency"),children:(0,q.jsx)(I.q,{className:"w-100",placeholder:p("select.currency"),fetchOptions:function(){return O.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title," (").concat(e.symbol||"",")"),key:e.id}}))}))}})}),(0,q.jsx)(b.Z.Item,{name:"price",rules:[{required:!0,message:p("required")}],label:p("price"),children:(0,q.jsx)(k.Z,{className:"w-100",placeholder:p("amount")})})]}),(0,q.jsxs)(C.Z,{span:24,children:[(0,q.jsx)(b.Z.Item,{name:"cause",rules:[{required:!0,message:p("required")}],label:p("cause"),children:(0,q.jsx)(_.Z.TextArea,{showCount:!0,maxLength:100,placeholder:p("cause")})}),(0,q.jsx)(b.Z.Item,{name:"answer",label:p("answer"),children:(0,q.jsx)(_.Z.TextArea,{showCount:!0,maxLength:100,placeholder:p("answer")})})]})]})})})}var T=t(53233),E=t(58467),H=t(47266),P=t(74294);function A(e){var n=e.data,t=e.handleCancel,a=e.statuses,r=(0,y.$)().t,c=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,o=(0,l.useState)(!1),s=(0,i.Z)(o,2),d=s[0],v=s[1],m=(0,h.I0)();return(0,q.jsx)(j.Z,{visible:!!n,title:r("change.status"),onCancel:t,footer:[(0,q.jsx)(u.Z,{onClick:t,children:r("cancel")}),(0,q.jsx)(u.Z,{loading:d,type:"primary",form:"status",htmlType:"submit",children:r("change")},"pay-btn")],children:(0,q.jsx)(b.Z,{initialValues:{status:null===n||void 0===n?void 0:n.status},onFinish:function(e){v(!0),z.a.changeStatus(null===n||void 0===n?void 0:n.id,e).then((function(){t(),m((0,f.xo)(c))})).finally((function(){return v(!1)}))},id:"status",layout:"vertical",children:(0,q.jsx)(b.Z.Item,{label:r("status"),name:"status",children:(0,q.jsx)(P.Z,{options:a.slice(1).map((function(e){return{label:r(e),value:e}}))})})})})}var B=r.Z.TabPane,M=["all","accepted","pending","canceled"];function F(){var e,n=(0,y.$)().t,t=(0,h.I0)(),j=(0,E.s0)(),b=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,w=(0,l.useState)("all"),C=(0,i.Z)(w,2),k=C[0],_=C[1],I=(null===(e=b.data)||void 0===e?void 0:e.role)||k,N=b.data,O={sort:null===N||void 0===N?void 0:N.sort,column:null===N||void 0===N?void 0:N.column,perPage:null===N||void 0===N?void 0:N.perPage,page:null===N||void 0===N?void 0:N.page,status:"all"===k?void 0:I},S=(0,h.v9)((function(e){return e.adminPayouts}),h.wU),z=S.payoutRequests,P=S.meta,F=S.loading,K=S.params,R=(0,l.useState)(null),L=(0,i.Z)(R,2),U=L[0],$=L[1],D=(0,l.useState)(null),G=(0,i.Z)(D,2),W=G[0],J=G[1],Q=(0,l.useState)([{title:n("user"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:function(e){return(0,q.jsx)("div",{className:"text-hover",onClick:function(){return function(e){t((0,f.bL)({url:"/users/user/".concat(e.uuid),id:"user_info",name:n("user.info")})),j("/users/user/".concat(e.uuid),{state:{user_id:e.id}})}(e)},children:(null===e||void 0===e?void 0:e.firstname)+" "+(null===e||void 0===e?void 0:e.lastname)})}},{title:n("price"),dataIndex:"price",key:"price",is_show:!0,render:function(e,n){var t;return(0,Z.Z)(e,null===(t=n.currency)||void 0===t?void 0:t.symbol)}},{title:n("status"),dataIndex:"status",key:"status",is_show:!0,render:function(e){return(0,q.jsx)("div",{children:"pending"===e?(0,q.jsx)(c.Z,{color:"blue",children:n(e)}):"canceled"===e?(0,q.jsx)(c.Z,{color:"error",children:n(e)}):(0,q.jsx)(c.Z,{color:"cyan",children:n(e)})})}},{title:n("cause"),dataIndex:"cause",key:"cause",is_show:!0},{title:n("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0},{title:n("answer"),dataIndex:"answer",key:"answer",is_show:!0},{title:n("options"),dataIndex:"uuid",key:"uuid",is_show:!0,render:function(e,t){return(0,q.jsxs)(o.Z,{children:[(0,q.jsx)(u.Z,{type:"primary",icon:(0,q.jsx)(x.Z,{}),onClick:function(){return $(t)}}),"accepted"!==t.status&&(0,q.jsx)(s.Z,{title:n("change.status"),children:(0,q.jsx)(u.Z,{onClick:function(){return J(t)},icon:(0,q.jsx)(g.Z,{})})})]})}}]),X=(0,i.Z)(Q,2),Y=X[0],ee=X[1];(0,l.useEffect)((function(){b.refetch&&(t((0,H.T)(O)),t((0,f.A_)(b)))}),[b.refetch]),(0,m.Z)((function(){t((0,H.T)(O))}),[b.data]);return(0,q.jsxs)(d.Z,{title:n("payout.requests"),extra:(0,q.jsxs)(o.Z,{children:[(0,q.jsx)(u.Z,{onClick:function(){return $(!0)},type:"primary",children:n("create.payout")}),(0,q.jsx)(T.Z,{columns:Y,setColumns:ee})]}),children:[(0,q.jsx)(r.Z,{className:"mt-3",activeKey:I,onChange:function(e){!function(e){var n=b.data;t((0,f.nc)({activeMenu:b,data:(0,a.Z)((0,a.Z)({},n),e)}))}({role:e,page:1}),_(e)},type:"card",children:M.map((function(e){return(0,q.jsx)(B,{tab:n(e)},e)}))}),(0,q.jsx)(v.Z,{scroll:{x:!0},columns:null===Y||void 0===Y?void 0:Y.filter((function(e){return e.is_show})),dataSource:z,pagination:{pageSize:K.perPage,page:K.page,total:P.total,defaultCurrent:K.page},rowKey:function(e){return e.id},onChange:function(e,n,a){var i=e.pageSize,l=e.current,r=a.field,c=a.order,o=(0,p.Z)(c);t((0,f.nc)({activeMenu:b,data:{perPage:i,page:l,column:r,sort:o}}))},loading:F}),U&&(0,q.jsx)(V,{data:U,handleCancel:function(){return $(null)}}),W&&(0,q.jsx)(A,{data:W,statuses:M,handleCancel:function(){return J(null)}})]})}},99587:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(1413),i=t(47313),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},r=t(17469),c=function(e,n){return i.createElement(r.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:l}))};c.displayName="TableOutlined";var o=i.forwardRef(c)},86345:function(e,n,t){t.d(n,{Z:function(){return g}});var a=t(87462),i=t(4942),l=t(47313),r=t(29439),c=t(45987),o=t(46123),u=t.n(o),s=t(10288),d=t(49242),v=l.forwardRef((function(e,n){var t,a=e.prefixCls,o=void 0===a?"rc-switch":a,v=e.className,h=e.checked,f=e.defaultChecked,m=e.disabled,p=e.loadingIcon,y=e.checkedChildren,Z=e.unCheckedChildren,x=e.onClick,g=e.onChange,j=e.onKeyDown,b=(0,c.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,s.Z)(!1,{value:h,defaultValue:f}),C=(0,r.Z)(w,2),k=C[0],_=C[1];function I(e,n){var t=k;return m||(_(t=e),null===g||void 0===g||g(t,n)),t}var N=u()(o,v,(t={},(0,i.Z)(t,"".concat(o,"-checked"),k),(0,i.Z)(t,"".concat(o,"-disabled"),m),t));return l.createElement("button",Object.assign({},b,{type:"button",role:"switch","aria-checked":k,disabled:m,className:N,ref:n,onKeyDown:function(e){e.which===d.Z.LEFT?I(!1,e):e.which===d.Z.RIGHT&&I(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var n=I(!k,e);null===x||void 0===x||x(n,e)}}),p,l.createElement("span",{className:"".concat(o,"-inner")},k?y:Z))}));v.displayName="Switch";var h=v,f=t(82508),m=t(46479),p=t(91964),y=t(21631),Z=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)n.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(t[a[i]]=e[a[i]])}return t},x=l.forwardRef((function(e,n){var t,r=e.prefixCls,c=e.size,o=e.loading,s=e.className,d=void 0===s?"":s,v=e.disabled,x=Z(e,["prefixCls","size","loading","className","disabled"]),g=l.useContext(p.E_),j=g.getPrefixCls,b=g.direction,w=l.useContext(y.Z),C=j("switch",r),k=l.createElement("div",{className:"".concat(C,"-handle")},o&&l.createElement(f.Z,{className:"".concat(C,"-loading-icon")})),_=u()((t={},(0,i.Z)(t,"".concat(C,"-small"),"small"===(c||w)),(0,i.Z)(t,"".concat(C,"-loading"),o),(0,i.Z)(t,"".concat(C,"-rtl"),"rtl"===b),t),d);return l.createElement(m.Z,{insertExtraNode:!0},l.createElement(h,(0,a.Z)({},x,{prefixCls:C,className:_,disabled:v||o,ref:n,loadingIcon:k})))}));x.__ANT_SWITCH=!0,x.displayName="Switch";var g=x}}]);