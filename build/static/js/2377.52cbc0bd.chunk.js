"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2377],{89802:function(e,n,t){t.d(n,{q:function(){return d}});var a=t(1413),r=t(29439),s=t(45987),i=t(47313),l=t(74294),c=t(72652),o=t(46417),u=["fetchOptions","refetch"],d=function(e){var n=e.fetchOptions,t=e.refetch,d=void 0!==t&&t,f=(0,s.Z)(e,u),h=(0,i.useState)(!1),m=(0,r.Z)(h,2),p=m[0],x=m[1],Z=(0,i.useState)([]),b=(0,r.Z)(Z,2),v=b[0],y=b[1];return(0,o.jsx)(l.Z,(0,a.Z)((0,a.Z)({labelInValue:!0,filterOption:!1,notFoundContent:p?(0,o.jsx)(c.Z,{size:"small"}):"no results"},f),{},{options:p?[]:v,onFocus:function(){v.length&&!d||(x(!0),n().then((function(e){y(e),x(!1)})))}}))}},12377:function(e,n,t){t.r(n);var a=t(1413),r=t(29439),s=t(47313),i=t(58467),l=t(34491),c=t(18197),o=t(77181),u=t(68197),d=t(59624),f=t(6289),h=t(99096),m=t(86345),p=t(59491),x=t(2717),Z=t(90954),b=t(18333),v=t(24511),y=t(70816),j=t.n(y),g=t(13783),C=t(89802),_=t(73346),k=t(46417);n.default=function(){var e=(0,v.$)().t,n=(0,x.v9)((function(e){return e.menu}),x.wU).activeMenu,t=(0,x.I0)(),y=c.Z.useForm(),w=(0,r.Z)(y,1)[0],N=(0,i.s0)(),O=(0,s.useState)(!1),q=(0,r.Z)(O,2),I=q[0],S=q[1],E=(0,x.v9)((function(e){return e.myShop}),x.wU).myShop;(0,s.useEffect)((function(){return function(){var e=w.getFieldsValue(!0);e.expired_at=JSON.stringify(null===e||void 0===e?void 0:e.expired_at),t((0,Z.nc)({activeMenu:n,data:e}))}}),[]);return(0,k.jsx)(o.Z,{title:e("add.bonus"),className:"h-100",children:(0,k.jsxs)(c.Z,{name:"bonus-add",layout:"vertical",onFinish:function(r){var s={expired_at:j()(r.expired_at).format("YYYY-MM-DD"),status:r.status,type:"sum",value:r.value,bonus_stock_id:r.bonus_stock_id.value,bonus_quantity:r.bonus_quantity,bonusable_id:E.id};S(!0);var i="seller/bonus/shop";_.Z.create(s).then((function(){l.Am.success(e("successfully.created")),t((0,Z.ph)((0,a.Z)((0,a.Z)({},n),{},{nextUrl:i}))),N("/".concat(i)),t((0,g.Q)())})).finally((function(){return S(!1)}))},form:w,initialValues:(0,a.Z)((0,a.Z)({status:!0},n.data),function(){var e,t;if(null===(e=n.data)||void 0===e||!e.expired_at)return{};var a=JSON.parse(null===(t=n.data)||void 0===t?void 0:t.expired_at);return{expired_at:j()(a,"HH:mm:ss")}}()),className:"d-flex flex-column h-100",children:[(0,k.jsxs)(u.Z,{gutter:12,children:[(0,k.jsx)(d.Z,{span:12,children:(0,k.jsx)(c.Z.Item,{label:e("order_amount"),name:"value",rules:[{required:!0,message:e("required")}],children:(0,k.jsx)(f.Z,{className:"w-100"})})}),(0,k.jsx)(d.Z,{span:12,children:(0,k.jsx)(c.Z.Item,{label:e("bonus.product.stock"),name:"bonus_stock_id",rules:[{required:!0,message:e("required")}],children:(0,k.jsx)(C.q,{fetchOptions:function(){return b.Z.getStock().then((function(e){return e.data.map((function(e){return{label:e.product.translation.title+" "+e.extras.map((function(e){return e.value})).join(", "),value:e.id}}))}))},debounceTimeout:200})})}),(0,k.jsx)(d.Z,{span:12,children:(0,k.jsx)(c.Z.Item,{label:e("bonus.product.quantity"),name:"bonus_quantity",rules:[{required:!0,message:e("required")}],children:(0,k.jsx)(f.Z,{className:"w-100"})})}),(0,k.jsx)(d.Z,{span:12,children:(0,k.jsx)(c.Z.Item,{name:"expired_at",label:e("expired.at"),rules:[{required:!0,message:e("required")}],children:(0,k.jsx)(h.Z,{className:"w-100",placeholder:"",disabledDate:function(e){return j()().add(-1,"days")>=e}})})}),(0,k.jsx)(d.Z,{span:12,children:(0,k.jsx)(c.Z.Item,{label:e("active"),name:"status",valuePropName:"checked",children:(0,k.jsx)(m.Z,{})})})]}),(0,k.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,k.jsx)("div",{className:"pb-5",children:(0,k.jsx)(p.Z,{type:"primary",htmlType:"submit",loading:I,children:e("submit")})})})]})})}},86345:function(e,n,t){t.d(n,{Z:function(){return y}});var a=t(87462),r=t(4942),s=t(47313),i=t(29439),l=t(45987),c=t(46123),o=t.n(c),u=t(10288),d=t(49242),f=s.forwardRef((function(e,n){var t,a=e.prefixCls,c=void 0===a?"rc-switch":a,f=e.className,h=e.checked,m=e.defaultChecked,p=e.disabled,x=e.loadingIcon,Z=e.checkedChildren,b=e.unCheckedChildren,v=e.onClick,y=e.onChange,j=e.onKeyDown,g=(0,l.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=(0,u.Z)(!1,{value:h,defaultValue:m}),_=(0,i.Z)(C,2),k=_[0],w=_[1];function N(e,n){var t=k;return p||(w(t=e),null===y||void 0===y||y(t,n)),t}var O=o()(c,f,(t={},(0,r.Z)(t,"".concat(c,"-checked"),k),(0,r.Z)(t,"".concat(c,"-disabled"),p),t));return s.createElement("button",Object.assign({},g,{type:"button",role:"switch","aria-checked":k,disabled:p,className:O,ref:n,onKeyDown:function(e){e.which===d.Z.LEFT?N(!1,e):e.which===d.Z.RIGHT&&N(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var n=N(!k,e);null===v||void 0===v||v(n,e)}}),x,s.createElement("span",{className:"".concat(c,"-inner")},k?Z:b))}));f.displayName="Switch";var h=f,m=t(82508),p=t(46479),x=t(91964),Z=t(21631),b=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},v=s.forwardRef((function(e,n){var t,i=e.prefixCls,l=e.size,c=e.loading,u=e.className,d=void 0===u?"":u,f=e.disabled,v=b(e,["prefixCls","size","loading","className","disabled"]),y=s.useContext(x.E_),j=y.getPrefixCls,g=y.direction,C=s.useContext(Z.Z),_=j("switch",i),k=s.createElement("div",{className:"".concat(_,"-handle")},c&&s.createElement(m.Z,{className:"".concat(_,"-loading-icon")})),w=o()((t={},(0,r.Z)(t,"".concat(_,"-small"),"small"===(l||C)),(0,r.Z)(t,"".concat(_,"-loading"),c),(0,r.Z)(t,"".concat(_,"-rtl"),"rtl"===g),t),d);return s.createElement(p.Z,{insertExtraNode:!0},s.createElement(h,(0,a.Z)({},v,{prefixCls:_,className:w,disabled:f||c,ref:n,loadingIcon:k})))}));v.__ANT_SWITCH=!0,v.displayName="Switch";var y=v}}]);