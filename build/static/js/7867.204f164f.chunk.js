"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7867],{89802:function(e,n,t){t.d(n,{q:function(){return d}});var r=t(1413),a=t(29439),i=t(45987),l=t(47313),c=t(74294),s=t(72652),o=t(46417),u=["fetchOptions","refetch"],d=function(e){var n=e.fetchOptions,t=e.refetch,d=void 0!==t&&t,f=(0,i.Z)(e,u),h=(0,l.useState)(!1),Z=(0,a.Z)(h,2),m=Z[0],p=Z[1],v=(0,l.useState)([]),x=(0,a.Z)(v,2),g=x[0],b=x[1];return(0,o.jsx)(c.Z,(0,r.Z)((0,r.Z)({labelInValue:!0,filterOption:!1,notFoundContent:m?(0,o.jsx)(s.Z,{size:"small"}):"no results"},f),{},{options:m?[]:g,onFocus:function(){g.length&&!d||(p(!0),n().then((function(e){b(e),p(!1)})))}}))}},64060:function(e,n,t){var r=t(34344),a={get:function(e){return r.Z.get("dashboard/seller/deliveries",{params:e})},getAll:function(e){return r.Z.get("dashboard/seller/deliveries/paginate",{params:e})},getById:function(e,n){return r.Z.get("dashboard/seller/deliveries/".concat(e),{params:n})},create:function(e){return r.Z.post("dashboard/seller/deliveries",e)},update:function(e,n){return r.Z.put("dashboard/seller/deliveries/".concat(e),n)},getTypes:function(e){return r.Z.get("dashboard/seller/deliveries/types",{params:e})},setActive:function(e,n){return r.Z.post("dashboard/seller/deliveries/".concat(e,"/active/status"),n)}};n.Z=a},37867:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(93433),a=t(4942),i=t(1413),l=t(29439),c=t(47313),s=t(58467),o=t(34491),u=t(18197),d=t(77181),f=t(68197),h=t(59624),Z=t(66672),m=t(74294),p=t(6289),v=t(86345),x=t(59491),g=t(72652),b=t(73431),j=t(64060),y=t(2717),C=t(90954),w=t(75336),O=t(89802),k=t(24511),N=t(46417);function I(){var e=(0,k.$)().t,n=u.Z.useForm(),t=(0,l.Z)(n,1)[0],I=(0,s.s0)(),q=(0,y.I0)(),S=(0,s.UO)().id,E=(0,y.v9)((function(e){return e.menu}),y.wU).activeMenu,F=(0,c.useState)(!1),T=(0,l.Z)(F,2),_=T[0],A=T[1],P=(0,c.useState)(null),U=(0,l.Z)(P,2),z=U[0],V=U[1],D=(0,c.useState)(!1),K=(0,l.Z)(D,2),L=K[0],R=K[1],B=(0,c.useState)(function(){for(var e=[],n=1;n<=31;n++)e.push(n);return e}()),H=(0,l.Z)(B,2),G=H[0],M=(H[1],(0,c.useState)(0)),W=(0,l.Z)(M,2),$=W[0],J=W[1],Q=(0,y.v9)((function(e){return e.formLang}),y.wU),X=Q.defaultLang,Y=Q.languages;var ee=function(e){A(!0),j.Z.getById(e).then((function(e){var n=e.data;V(n.type),t.setFieldsValue((0,i.Z)((0,i.Z)((0,i.Z)({},n),function(e){if(!e)return{};var n=e.translations,t=Y.map((function(e){var t;return(0,a.Z)({},"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title)}));return Object.assign.apply(Object,[{}].concat((0,r.Z)(t)))}(n)),{},{from:n.times[0],to:n.times[1]}))})).finally((function(){return A(!1)}))};return(0,c.useEffect)((function(){S&&ee(S)}),[]),(0,N.jsx)(d.Z,{title:e(S?"edit.delivery":"add.delivery"),extra:(0,N.jsx)(b.Z,{}),children:(0,N.jsx)(u.Z,{name:"basic",layout:"vertical",initialValues:{active:!0},onFinish:function(n){R(!0);var t={active:Number(n.active),times:"".concat(n.from,",").concat(n.to),title:(0,w.Z)(Y,n),note:n.note,price:n.price,type:n.type.value},r="seller/delivery/list";S?j.Z.update(S,t).then((function(){o.Am.success(e("successfully.updated")),q((0,C.ph)((0,i.Z)((0,i.Z)({},E),{},{nextUrl:r}))),I("/".concat(r))})).finally((function(){return R(!1)})):j.Z.create(t).then((function(){o.Am.success(e("successfully.created")),q((0,C.ph)((0,i.Z)((0,i.Z)({},E),{},{nextUrl:r}))),I("/".concat(r))})).finally((function(){return R(!1)}))},form:t,children:_?(0,N.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,N.jsx)(g.Z,{size:"large",className:"py-5"})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.Z,{gutter:12,children:(0,N.jsx)(h.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{name:"type",label:e("type"),rules:[{required:!0,message:e("required")}],children:(0,N.jsx)(O.q,{fetchOptions:function(){return j.Z.getTypes().then((function(e){return Object.keys(e.data).map((function(n){return{title:e.data[n],value:e.data[n]}}))}))},onSelect:function(e){var n=e.value;return V(n)}})})})}),(0,N.jsxs)(f.Z,{gutter:12,className:"mt-3",children:[(0,N.jsx)(h.Z,{span:12,children:Y.map((function(n){return(0,N.jsx)(u.Z.Item,{label:e("title"),name:"title[".concat(n.locale,"]"),rules:[{required:n.locale===X,message:e("required")}],hidden:n.locale!==X,children:(0,N.jsx)(Z.Z,{})},"title"+n.locale)}))}),(0,N.jsx)(h.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:e("note"),name:"note",rules:[{required:!0,message:e("required")}],children:(0,N.jsx)(Z.Z,{})})}),(0,N.jsx)(h.Z,{span:6,children:(0,N.jsx)(u.Z.Item,{label:e("from.day"),name:"from",rules:[{required:!0,message:e("required")}],children:(0,N.jsx)(m.Z,{onSelect:function(e){return J(e)},children:G.map((function(e){return(0,N.jsx)(m.Z.Option,{value:e,children:e},e)}))})})}),(0,N.jsx)(h.Z,{span:6,children:(0,N.jsx)(u.Z.Item,{label:e("to.day"),name:"to",rules:[{required:!0,message:e("required")}],children:(0,N.jsx)(m.Z,{children:G.filter((function(e){return e>$})).map((function(e){return(0,N.jsx)(m.Z.Option,{value:e,children:e},e)}))})})}),"standard"===z||"express"===z?(0,N.jsx)(h.Z,{span:12,children:(0,N.jsx)(u.Z.Item,{label:e("price"),name:"price",rules:[{required:!0,message:e("required")}],children:(0,N.jsx)(p.Z,{min:0,className:"w-100"})})}):"",(0,N.jsx)(h.Z,{span:6,children:(0,N.jsx)(u.Z.Item,{label:e("active"),name:"active",valuePropName:"checked",children:(0,N.jsx)(v.Z,{})})})]}),(0,N.jsx)(x.Z,{type:"primary",htmlType:"submit",loading:L,children:e("save")})]})})})}},86345:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(87462),a=t(4942),i=t(47313),l=t(29439),c=t(45987),s=t(46123),o=t.n(s),u=t(10288),d=t(49242),f=i.forwardRef((function(e,n){var t,r=e.prefixCls,s=void 0===r?"rc-switch":r,f=e.className,h=e.checked,Z=e.defaultChecked,m=e.disabled,p=e.loadingIcon,v=e.checkedChildren,x=e.unCheckedChildren,g=e.onClick,b=e.onChange,j=e.onKeyDown,y=(0,c.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=(0,u.Z)(!1,{value:h,defaultValue:Z}),w=(0,l.Z)(C,2),O=w[0],k=w[1];function N(e,n){var t=O;return m||(k(t=e),null===b||void 0===b||b(t,n)),t}var I=o()(s,f,(t={},(0,a.Z)(t,"".concat(s,"-checked"),O),(0,a.Z)(t,"".concat(s,"-disabled"),m),t));return i.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":O,disabled:m,className:I,ref:n,onKeyDown:function(e){e.which===d.Z.LEFT?N(!1,e):e.which===d.Z.RIGHT&&N(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var n=N(!O,e);null===g||void 0===g||g(n,e)}}),p,i.createElement("span",{className:"".concat(s,"-inner")},O?v:x))}));f.displayName="Switch";var h=f,Z=t(82508),m=t(46479),p=t(91964),v=t(21631),x=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},g=i.forwardRef((function(e,n){var t,l=e.prefixCls,c=e.size,s=e.loading,u=e.className,d=void 0===u?"":u,f=e.disabled,g=x(e,["prefixCls","size","loading","className","disabled"]),b=i.useContext(p.E_),j=b.getPrefixCls,y=b.direction,C=i.useContext(v.Z),w=j("switch",l),O=i.createElement("div",{className:"".concat(w,"-handle")},s&&i.createElement(Z.Z,{className:"".concat(w,"-loading-icon")})),k=o()((t={},(0,a.Z)(t,"".concat(w,"-small"),"small"===(c||C)),(0,a.Z)(t,"".concat(w,"-loading"),s),(0,a.Z)(t,"".concat(w,"-rtl"),"rtl"===y),t),d);return i.createElement(m.Z,{insertExtraNode:!0},i.createElement(h,(0,r.Z)({},g,{prefixCls:w,className:k,disabled:f||s,ref:n,loadingIcon:O})))}));g.__ANT_SWITCH=!0,g.displayName="Switch";var b=g}}]);