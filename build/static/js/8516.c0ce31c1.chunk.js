"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8516],{52008:function(e,a,l){l(47313);a.Z=l.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},89802:function(e,a,l){l.d(a,{q:function(){return o}});var n=l(1413),r=l(29439),t=l(45987),i=l(47313),s=l(74294),c=l(72652),u=l(46417),d=["fetchOptions","refetch"],o=function(e){var a=e.fetchOptions,l=e.refetch,o=void 0!==l&&l,p=(0,t.Z)(e,d),m=(0,i.useState)(!1),h=(0,r.Z)(m,2),f=h[0],v=h[1],Z=(0,i.useState)([]),x=(0,r.Z)(Z,2),y=x[0],b=x[1];return(0,u.jsx)(s.Z,(0,n.Z)((0,n.Z)({labelInValue:!0,filterOption:!1,notFoundContent:f?(0,u.jsx)(c.Z,{size:"small"}):"no results"},p),{},{options:f?[]:y,onFocus:function(){y.length&&!o||(v(!0),a().then((function(e){b(e),v(!1)})))}}))}},58516:function(e,a,l){l.r(a),l.d(a,{default:function(){return P}});var n=l(74165),r=l(15861),t=l(1413),i=l(29439),s=l(47313),c=l(18197),u=l(77181),d=l(68197),o=l(59624),p=l(74294),m=l(72652),h=l(66672),f=l(86345),v=l(59491),Z=l(24511),x=l(90954),y=l(2717),b=l(34491),j=l(58467),g=l(52008),_=l(26672),k=l(92709),q=l(79053),C=l(91260),I=l(26457),w=l(89802),N=l(30554),O=l(95231),z=l(46417);function P(){var e,a=(0,Z.$)().t,l=c.Z.useForm(),P=(0,i.Z)(l,1)[0],S=(0,s.useState)(!1),F=(0,i.Z)(S,2),E=F[0],V=F[1],A=(0,s.useState)(!1),R=(0,i.Z)(A,2),T=R[0],U=R[1],D=(0,s.useState)([]),K=(0,i.Z)(D,2),W=K[0],H=K[1],L=(0,s.useState)(null),G=(0,i.Z)(L,2),M=G[0],$=G[1],B=(0,y.v9)((function(e){return e.formLang}),y.wU).languages,J=(0,y.v9)((function(e){return e.menu}),y.wU).activeMenu,Q=(0,y.v9)((function(e){return e.currency}),y.wU).defaultCurrency,X=(0,y.I0)(),Y=(0,j.s0)();function ee(){return(ee=(0,r.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.abrupt("return",I.Z.getAll().then((function(e){var a=e.data.filter((function(e){return"wallet"!==e.tag})).filter((function(e){return"cash"!==e.tag})).map((function(e){return{label:e.tag[0].toUpperCase()+e.tag.substring(1),value:e.id,key:e.id}}));H(a)})).finally((function(){return U(!1)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,s.useEffect)((function(){!function(){ee.apply(this,arguments)}()}),[]);return(0,z.jsx)(u.Z,{title:a("add.payment.payloads"),className:"h-100",children:(0,z.jsxs)(c.Z,{layout:"vertical",name:"user-address",form:P,onFinish:function(e){var l;delete e.payment_id,V(!0),C.x.create({payment_id:M.value,payload:(0,t.Z)((0,t.Z)({},e),{},{paypal_currency:null===(l=e.paypal_currency)||void 0===l?void 0:l.label,paypal_validate_ssl:null!==e&&void 0!==e&&e.paypal_validate_ssl?Number(null===e||void 0===e?void 0:e.paypal_validate_ssl):void 0})}).then((function(){var e="payment-payloads";b.Am.success(a("successfully.created")),X((0,x.ph)((0,t.Z)((0,t.Z)({},J),{},{nextUrl:e}))),Y("/".concat(e)),X((0,q.j)()),X((0,x.xo)(J))})).catch((function(e){return console.error(e)})).finally((function(){return V(!1)}))},children:[(0,z.jsxs)(d.Z,{gutter:12,children:[(0,z.jsx)(o.Z,{span:"Cash"===(null===M||void 0===M?void 0:M.label)||"Wallet"===(null===M||void 0===M?void 0:M.label)?12:24,children:(0,z.jsx)(c.Z.Item,{label:a("payment"),name:"payment_id",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(p.Z,{notFoundContent:T?(0,z.jsx)(m.Z,{size:"small"}):"no results",allowClear:!0,options:W,onSelect:function(e){var a=W.find((function(a){return a.value===e}));switch(a.label){case"Paypal":P.setFieldsValue({paypal_validate_ssl:!0,paypal_locale:O.Z.language,paypal_currency:{label:null===Q||void 0===Q?void 0:Q.title,value:null===Q||void 0===Q?void 0:Q.id}});break;case"Stripe":case"Razorpay":case"Paystack":P.setFieldsValue({currency:null===Q||void 0===Q?void 0:Q.title});break;default:P.resetFields()}$(a)}})})}),"Cash"===(null===M||void 0===M?void 0:M.label)||"Wallet"===(null===M||void 0===M?void 0:M.label)?"":(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(o.Z,{span:24,offset:10,children:(0,z.jsx)(z.Fragment,{children:function(e){switch(e){case"Paypal":return(0,z.jsx)(_.kD0,{size:80});case"Stripe":return(0,z.jsx)(k.K6C,{size:80});case"Razorpay":return(0,z.jsx)(k.r98,{size:80});case"Paystack":return(0,z.jsx)("img",{src:g.Z,alt:"img",width:"80",height:"80"});default:return null}}(null===M||void 0===M?void 0:M.label)})}),"Paystack"===(null===M||void 0===M?void 0:M.label)?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paystack.pk"),name:"paystack_pk",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paystack.sk"),name:"paystack_sk",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})})," ",(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("currency"),name:"currency",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(w.q,{placeholder:a("select.currency"),valuePropName:"label",defaultValue:{value:Q.id,label:Q.title},fetchOptions:function(){return N.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):"Paypal"===(null===M||void 0===M?void 0:M.label)?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.mode"),name:"paypal_mode",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(p.Z,{options:[{value:"live",label:a("live")},{value:"sandbox",label:a("sandbox")}]})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.sandbox.client.id"),name:"paypal_sandbox_client_id",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.sandbox.client.secret"),name:"paypal_sandbox_client_secret",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.sandbox.app.id"),name:"paypal_sandbox_app_id",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.live.client.id"),name:"paypal_live_client_id",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.live.client.secret"),name:"paypal_live_client_secret",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.live.app.id"),name:"paypal_live_app_id",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.payment.action"),name:"paypal_payment_action",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(p.Z,{options:[{value:"Sale",label:a("sale")},{value:"Order",label:a("order")},{value:"Authorization",label:a("authorization")}]})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.currency"),name:"paypal_currency",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(w.q,{placeholder:a("select.currency"),valuePropName:"label",defaultValue:{value:Q.id,label:Q.title},fetchOptions:function(){return N.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.locale"),name:"paypal_locale",rules:[{required:!0,message:a("required")}],valuePropName:"value",children:(0,z.jsx)(p.Z,{placeholder:a("select.locale"),defaultValue:{label:null===(e=B.find((function(e){return e.locale===O.Z.language})))||void 0===e?void 0:e.title,value:O.Z.language},options:null===B||void 0===B?void 0:B.map((function(e){return{value:e.locale,label:e.locale}}))})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("paypal.validate.ssl"),name:"paypal_validate_ssl",valuePropName:"checked",children:(0,z.jsx)(f.Z,{defaultChecked:!0})})})]}):"Stripe"===(null===M||void 0===M?void 0:M.label)?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("stripe.pk"),name:"stripe_pk",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("stripe.sk"),name:"stripe_sk",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})})," ",(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("currency"),name:"currency",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(w.q,{placeholder:a("select.currency"),valuePropName:"label",defaultValue:{value:Q.id,label:Q.title},fetchOptions:function(){return N.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):"Razorpay"===(null===M||void 0===M?void 0:M.label)?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("razorpay.key"),name:"razorpay_key",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})}),(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("razorpay.secret"),name:"razorpay_secret",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(h.Z,{})})})," ",(0,z.jsx)(o.Z,{span:12,children:(0,z.jsx)(c.Z.Item,{label:a("currency"),name:"currency",rules:[{required:!0,message:a("required")}],children:(0,z.jsx)(w.q,{placeholder:a("select.currency"),valuePropName:"label",defaultValue:{value:Q.id,label:Q.title},fetchOptions:function(){return N.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):null]})]}),(0,z.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,z.jsx)("div",{className:"pb-5",children:(0,z.jsx)(v.Z,{type:"primary",htmlType:"submit",loading:E,disabled:E,children:a("submit")})})})]})})}},86345:function(e,a,l){l.d(a,{Z:function(){return b}});var n=l(87462),r=l(4942),t=l(47313),i=l(29439),s=l(45987),c=l(46123),u=l.n(c),d=l(10288),o=l(49242),p=t.forwardRef((function(e,a){var l,n=e.prefixCls,c=void 0===n?"rc-switch":n,p=e.className,m=e.checked,h=e.defaultChecked,f=e.disabled,v=e.loadingIcon,Z=e.checkedChildren,x=e.unCheckedChildren,y=e.onClick,b=e.onChange,j=e.onKeyDown,g=(0,s.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),_=(0,d.Z)(!1,{value:m,defaultValue:h}),k=(0,i.Z)(_,2),q=k[0],C=k[1];function I(e,a){var l=q;return f||(C(l=e),null===b||void 0===b||b(l,a)),l}var w=u()(c,p,(l={},(0,r.Z)(l,"".concat(c,"-checked"),q),(0,r.Z)(l,"".concat(c,"-disabled"),f),l));return t.createElement("button",Object.assign({},g,{type:"button",role:"switch","aria-checked":q,disabled:f,className:w,ref:a,onKeyDown:function(e){e.which===o.Z.LEFT?I(!1,e):e.which===o.Z.RIGHT&&I(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var a=I(!q,e);null===y||void 0===y||y(a,e)}}),v,t.createElement("span",{className:"".concat(c,"-inner")},q?Z:x))}));p.displayName="Switch";var m=p,h=l(82508),f=l(46479),v=l(91964),Z=l(21631),x=function(e,a){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(l[n[r]]=e[n[r]])}return l},y=t.forwardRef((function(e,a){var l,i=e.prefixCls,s=e.size,c=e.loading,d=e.className,o=void 0===d?"":d,p=e.disabled,y=x(e,["prefixCls","size","loading","className","disabled"]),b=t.useContext(v.E_),j=b.getPrefixCls,g=b.direction,_=t.useContext(Z.Z),k=j("switch",i),q=t.createElement("div",{className:"".concat(k,"-handle")},c&&t.createElement(h.Z,{className:"".concat(k,"-loading-icon")})),C=u()((l={},(0,r.Z)(l,"".concat(k,"-small"),"small"===(s||_)),(0,r.Z)(l,"".concat(k,"-loading"),c),(0,r.Z)(l,"".concat(k,"-rtl"),"rtl"===g),l),o);return t.createElement(f.Z,{insertExtraNode:!0},t.createElement(m,(0,n.Z)({},y,{prefixCls:k,className:C,disabled:p||c,ref:a,loadingIcon:q})))}));y.__ANT_SWITCH=!0,y.displayName="Switch";var b=y}}]);