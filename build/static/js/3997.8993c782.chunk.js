"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3997],{53233:function(e,n,t){var l=t(1413),r=t(29439),i=t(47313),u=t(56140),a=t(67251),s=t(45705),c=t(86345),o=t(78267),d=t(37388),f=t(59491),x=t(99587),h=t(24511),Z=t(46417),p=u.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,u=e.setColumns,v=e.style,m=e.size,j=void 0===m?"":m,y=e.iconOnly,g=(0,h.$)().t,C=(0,i.useState)(!1),b=(0,r.Z)(C,2),k=b[0],w=b[1],_=(0,Z.jsx)(a.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,Z.jsx)(a.Z.Item,{children:(0,Z.jsxs)(s.Z,{className:"d-flex justify-content-between",children:[(0,Z.jsx)(p,{children:e.title}),(0,Z.jsx)(c.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));u(n)}(e)}})]})},e+n)}))});return(0,Z.jsx)(o.Z,{overlay:_,trigger:["click"],onVisibleChange:function(e){w(e)},visible:k,children:(0,Z.jsx)(d.Z,{title:g("change.columns"),children:(0,Z.jsx)(f.Z,{style:(0,l.Z)({},v),size:j,icon:(0,Z.jsx)(x.Z,{}),children:y?null:g("Columns")})})})}},48008:function(e,n,t){t(47313);var l=t(84695),r=t(87569),i=t(59491),u=t(24511),a=t(46417);n.Z=function(e){var n=e.open,t=e.handleCancel,s=e.text,c=e.click,o=e.loading,d=e.subTitle,f=(0,u.$)().t;return(0,a.jsxs)(l.Z,{closable:!1,visible:n,footer:null,centered:!0,children:[(0,a.jsx)(r.ZP,{status:"warning",title:s,subTitle:d}),(0,a.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,a.jsx)(i.Z,{type:"primary",className:"mr-2",onClick:c,loading:o,children:f("yes")}),(0,a.jsx)(i.Z,{onClick:function(){return t()},children:f("no")})]})]})}},73997:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var l=t(4942),r=t(93433),i=t(1413),u=t(29439),a=t(47313),s=t(45705),c=t(78891),o=t(59491),d=t(77181),f=t(78508),x=t(12019),h=t(47515),Z=t(55768),p=t(34491),v=t(24511),m=t(2717),j=t(34319),y=t(5170),g=t(18197),C=t(66672),b=t(84695),k=t(74294),w=t(36202),_=t(81503),S=t(8550),I=t(46417);function V(e){var n=e.modal,t=e.handleCancel,l=g.Z.useForm(),r=(0,u.Z)(l,1)[0],i=(0,v.$)().t,s=(0,m.I0)(),c=(0,a.useState)(!1),d=(0,u.Z)(c,2),f=d[0],x=d[1],h=(0,a.useState)("text"),Z=(0,u.Z)(h,2),V=Z[0],A=Z[1],N=(0,a.useState)(null),O=(0,u.Z)(N,2),T=O[0],$=O[1],F=(0,a.useState)(""),G=(0,u.Z)(F,2),U=G[0],z=G[1],q=(0,m.v9)((function(e){return e.extraGroup}),m.wU).extraGroups;(0,a.useEffect)((function(){if(n.id){switch(A(n.group.type),n.group.type){case"color":z(n.value);break;case"image":$((0,S.Z)(n.value))}r.setFieldsValue(n)}}),[n]);function E(e,n){switch(e){case"color":return n.hex;case"text":return n;case"image":return n.name;default:return""}}return(0,I.jsx)(b.Z,{title:n.id?i("edit.extra"):i("add.extra"),visible:!!n,onCancel:t,footer:[(0,I.jsx)(o.Z,{type:"primary",onClick:function(){return r.submit()},loading:f,children:i("save")}),(0,I.jsx)(o.Z,{type:"default",onClick:t,children:i("cancel")})],children:(0,I.jsxs)(g.Z,{name:"extra-form",layout:"vertical",form:r,onFinish:function(e){var l={extra_group_id:e.extra_group_id,value:E(V,e.value)};n.id?function(e,n){x(!0),y.Z.updateValue(e,n).then((function(){p.Am.success(i("successfully.updated")),t(),s((0,j.pZ)())})).finally((function(){return x(!1)}))}(n.id,l):function(e){x(!0),y.Z.createValue(e).then((function(){p.Am.success(i("successfully.created")),t(),s((0,j.pZ)())})).finally((function(){return x(!1)}))}(l)},children:[(0,I.jsx)(g.Z.Item,{name:"extra_group_id",label:i("extra.group"),rules:[{required:!0,message:""}],children:(0,I.jsx)(k.Z,{style:{width:"100%"},placeholder:i("select.extra.group"),onChange:function(e){var n=q.find((function(n){return n.id===e}));r.setFieldsValue({value:""}),A(n.type)},children:q.map((function(e){var n;return(0,I.jsx)(k.Z.Option,{value:e.id,children:null===(n=e.translation)||void 0===n?void 0:n.title},e.id)}))})}),(0,I.jsx)(g.Z.Item,{name:"value",label:i("value"),rules:[{required:!0,message:""}],children:function(e){switch(e){case"color":return(0,I.jsx)(w.xS,{onChangeComplete:function(e){return z(e.hex)},color:U,disableAlpha:!0});case"text":return(0,I.jsx)(C.Z,{placeholder:i("enter.extra.value")});case"image":return(0,I.jsx)(_.Z,{type:"extras",image:T,setImage:$,form:r,name:"value"});default:return""}}(V)})]})})}function A(e){var n=e.id,t=e.loading,l=e.handleClose,r=e.text,i=e.click,u=(0,v.$)().t;return(0,I.jsxs)(b.Z,{closable:!1,visible:!!n,footer:null,centered:!0,children:[(0,I.jsx)("p",{children:r}),(0,I.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,I.jsx)(o.Z,{type:"primary",className:"mr-2",onClick:i,loading:t,children:u("yes")}),(0,I.jsx)(o.Z,{onClick:l,children:u("no")})]})]})}var N=t(55940),O=t(97421),T=t(90954),$=t(53233),F=t(26672),G=t(48008);function U(){var e,n,t=(0,v.$)().t,g=(0,m.I0)(),C=(0,m.v9)((function(e){return e.menu}),m.wU).activeMenu,b=(0,m.v9)((function(e){return e.extraGroup}),m.wU).extraGroups,k=(0,m.v9)((function(e){return e.extraValue}),m.wU),w=k.extraValues,_=k.loading,S=(0,a.useState)(null),U=(0,u.Z)(S,2),z=U[0],q=U[1],E=(0,a.useState)(null),K=(0,u.Z)(E,2),M=K[0],P=K[1],R=(0,a.useState)(!1),B=(0,u.Z)(R,2),D=B[0],H=B[1],J=(0,a.useState)(null),L=(0,u.Z)(J,2),Q=L[0],W=L[1],X=(0,a.useState)([{title:t("id"),dataIndex:"id",key:"id",is_show:!0},{title:t("title"),dataIndex:"extra_group_id",key:"extra_group_id",is_show:!0,render:function(e){var n,t;return null===b||void 0===b||null===(n=b.find((function(n){return n.id===e})))||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title}},{title:t("value"),dataIndex:"value",key:"value",is_show:!0,render:function(e,n){return(0,I.jsxs)(s.Z,{className:"extras",children:["color"===n.group.type?(0,I.jsx)("div",{className:"extra-color-wrapper-contain",style:{backgroundColor:n.value}}):null,"image"===n.group.type?(0,I.jsx)(c.Z,{width:100,src:O.bV+n.value,className:"borderRadius"}):null,"image"===n.group.type?null:(0,I.jsx)("span",{children:n.value})]})}},{title:t("options"),is_show:!0,render:function(e){return(0,I.jsxs)(s.Z,{children:[(0,I.jsx)(o.Z,{type:"primary",icon:(0,I.jsx)(x.Z,{}),onClick:function(){return P(e)}}),(0,I.jsx)(N.Z,{type:"primary",danger:!0,icon:(0,I.jsx)(h.Z,{}),onClick:function(){return q([e.id])}})]})}}]),Y=(0,u.Z)(X,2),ee=Y[0],ne=Y[1];(0,a.useEffect)((function(){C.refetch&&(g((0,j.pZ)()),g((0,T.A_)(C)))}),[C.refetch]);return(0,I.jsxs)(d.Z,{title:t("extra.value"),extra:(0,I.jsxs)(s.Z,{wrap:!0,children:[(0,I.jsx)(o.Z,{type:"primary",icon:(0,I.jsx)(Z.Z,{}),onClick:function(){return P({})},children:t("add.extra")}),"deleted_at"!==(null===(e=C.data)||void 0===e?void 0:e.role)&&(0,I.jsx)(N.Z,{size:"",onClick:function(){return W({delete:!0})},children:t("delete.all")}),"deleted_at"===(null===(n=C.data)||void 0===n?void 0:n.role)&&(0,I.jsx)(N.Z,{icon:(0,I.jsx)(F.uOc,{className:"mr-2"}),onClick:function(){return W({restore:!0})},children:t("restore.all")}),(0,I.jsx)($.Z,{columns:ee,setColumns:ne})]}),children:[(0,I.jsx)(f.Z,{scroll:{x:!0},loading:_,columns:null===ee||void 0===ee?void 0:ee.filter((function(e){return e.is_show})),dataSource:w,rowKey:function(e){return e.id},pagination:!1}),M&&(0,I.jsx)(V,{modal:M,handleCancel:function(){return P(null)}}),z&&(0,I.jsx)(A,{id:z,click:function(){H(!0);var e=(0,i.Z)({},Object.assign.apply(Object,[{}].concat((0,r.Z)(z.map((function(e,n){return(0,l.Z)({},"ids[".concat(n,"]"),e)}))))));y.Z.deleteValue(e).then((function(){p.Am.success(t("successfully.deleted")),q(null),g((0,j.pZ)())})).finally((function(){return H(!1)}))},text:t("delete.extra"),loading:D,handleClose:function(){return q(null)}}),Q&&(0,I.jsx)(G.Z,{open:Q,handleCancel:function(){return W(null)},click:Q.restore?function(){H(!0),y.Z.restoreAllValue().then((function(){p.Am.success(t("successfully.restored")),g((0,j.pZ)()),W(null)})).finally((function(){return H(!1)}))}:function(){H(!0),y.Z.dropAllValue().then((function(){p.Am.success(t("successfully.deleted")),g((0,j.pZ)()),W(null)})).finally((function(){return H(!1)}))},text:Q.restore?t("restore.modal.text"):t("read.carefully"),subTitle:Q.restore?"":t("confirm.deletion"),loading:D,setText:q})]})}}}]);