"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2022],{12022:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var l=n(1413),i=n(29439),r=n(47313),a=n(18197),u=n(77181),s=n(68197),c=n(59624),o=n(74294),d=n(66672),m=n(86345),f=n(59491),v=n(58467),h=n(34491),b=n(30554),Z=n(2717),p=n(90954),y=n(14506),x=n(24511),j=n(35305),g=n(51282),C=n(46417);function q(){var e=(0,x.$)().t,t=(0,r.useState)(!1),n=(0,i.Z)(t,2),q=n[0],I=n[1],U=(0,r.useState)(!1),k=(0,i.Z)(U,2),F=k[0],_=k[1],w=a.Z.useForm(),S=(0,i.Z)(w,1)[0],V=(0,v.s0)(),A=(0,v.UO)().id,E=(0,Z.I0)(),M=(0,Z.v9)((function(e){return e.menu})).activeMenu;(0,r.useEffect)((function(){return function(){var e=S.getFieldsValue(!0);E((0,p.nc)({activeMenu:M,data:e}))}}),[]);(0,r.useEffect)((function(){M.refetch&&function(e){I(!0),b.Z.getById(e).then((function(e){var t=e.data;return S.setFieldsValue(t)})).finally((function(){I(!1),E((0,p.A_)(M))}))}(A)}),[M.refetch]);var N=j.map((function(e){return{label:(null===e||void 0===e?void 0:e.name.toUpperCase())+" "+"( ".concat(e.symbol_native," )"),value:e.code,symbol:e.symbol_native}}));return(0,C.jsx)(u.Z,{title:e("edit.currency"),children:q?(0,C.jsx)(g.Z,{}):(0,C.jsxs)(a.Z,{name:"currency-add",onFinish:function(t){_(!0);var n={title:t.title,symbol:t.symbol,rate:t.rate,active:Number(t.active)},i="currencies";b.Z.update(A,n).then((function(){h.Am.success(e("successfully.updated")),E((0,p.ph)((0,l.Z)((0,l.Z)({},M),{},{nextUrl:i}))),V("/".concat(i)),E((0,y.U$)({}))})).finally((function(){return _(!1)}))},form:S,layout:"vertical",initialValues:(0,l.Z)((0,l.Z)({},M.data),{},{active:!0}),children:[(0,C.jsxs)(s.Z,{gutter:12,children:[(0,C.jsx)(c.Z,{span:12,children:(0,C.jsx)(a.Z.Item,{label:e("title"),name:"title",rules:[{required:!0,message:e("required")}],children:(0,C.jsx)(o.Z,{onChange:function(e,t){return S.setFieldsValue({symbol:t.symbol})},filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").includes(e)},filterSort:function(e,t){var n,l;return(null!==(n=null===e||void 0===e?void 0:e.label)&&void 0!==n?n:"").toUpperCase().localeCompare((null!==(l=null===t||void 0===t?void 0:t.label)&&void 0!==l?l:"").toUpperCase())},showSearch:!0,allowClear:!0,options:N})})}),(0,C.jsx)(c.Z,{span:12,children:(0,C.jsx)(a.Z.Item,{label:e("symbol"),name:"symbol",rules:[{required:!0,message:e("required")}],children:(0,C.jsx)(d.Z,{disabled:!0})})}),(0,C.jsx)(c.Z,{span:12,children:(0,C.jsx)(a.Z.Item,{label:e("rate"),name:"rate",rules:[{required:!0,message:e("required")}],children:(0,C.jsx)(d.Z,{})})}),(0,C.jsx)(c.Z,{span:12,children:(0,C.jsx)(a.Z.Item,{label:e("active"),name:"active",valuePropName:"checked",children:(0,C.jsx)(m.Z,{})})})]}),(0,C.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:F,children:e("submit")})]})})}}}]);