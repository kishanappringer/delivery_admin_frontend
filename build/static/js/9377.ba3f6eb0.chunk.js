"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9377],{19377:function(e,a,n){n.r(a);var t=n(1413),l=n(29439),c=n(47313),i=n(18197),r=n(77181),s=n(68197),o=n(59624),d=n(66672),u=n(74294),m=n(86345),h=n(59491),f=n(34491),p=n(58467),Z=n(73431),v=n(52421),g=n(2717),x=n(90954),b=n(30763),y=n(42472),j=n(24511),w=n(37889),C=n(46417);a.default=function(){var e,a,n=(0,j.$)().t,k=(0,p.s0)(),N=(0,g.I0)(),I=(0,g.v9)((function(e){return e.menu}),g.wU).activeMenu,E=(0,c.useState)(null!==(e=I.data)&&void 0!==e&&e.image?[null===(a=I.data)||void 0===a?void 0:a.image]:[]),O=(0,l.Z)(E,2),S=O[0],_=O[1],q=i.Z.useForm(),L=(0,l.Z)(q,1)[0],P=(0,c.useState)(!1),T=(0,l.Z)(P,2),F=T[0],D=T[1],K=(0,c.useState)(null),R=(0,l.Z)(K,2),U=R[0],V=R[1],z=(0,g.v9)((function(e){return e.formLang}),g.wU),A=z.defaultLang,H=z.languages;(0,c.useEffect)((function(){return function(){var e=L.getFieldsValue(!0);N((0,x.nc)({activeMenu:I,data:e}))}}),[]);return(0,C.jsx)(r.Z,{title:n("add.category"),extra:(0,C.jsx)(Z.Z,{}),children:(0,C.jsxs)(i.Z,{name:"basic",layout:"vertical",onFinish:function(e){var a;D(!0);var l=(0,t.Z)((0,t.Z)({},e),{},{type:"main",active:e.active?1:0,keywords:e.keywords.join(","),parent_id:null,"images[0]":null===(a=S[0])||void 0===a?void 0:a.name}),c="catalog/categories";b.Z.create(l).then((function(){f.Am.success(n("successfully.created")),N((0,x.ph)((0,t.Z)((0,t.Z)({},I),{},{nextUrl:c}))),N((0,y.pE)()),k("/".concat(c))})).catch((function(e){return V(e.response.data.params)})).finally((function(){return D(!1)}))},initialValues:(0,t.Z)({parent_id:{title:"---",value:0,key:0},active:!0},I.data),form:L,children:[(0,C.jsxs)(s.Z,{gutter:12,children:[(0,C.jsx)(o.Z,{span:12,children:H.map((function(e,a){return(0,C.jsx)(i.Z.Item,{label:n("name"),name:"title[".concat(e.locale,"]"),help:U&&U["title.".concat(A)]?U["title.".concat(A)][0]:null,validateStatus:U?"error":"success",rules:[{required:e.locale===A,message:n("required")}],hidden:e.locale!==A,children:(0,C.jsx)(d.Z,{placeholder:n("name")})},e.title+a)}))}),(0,C.jsx)(o.Z,{span:12,children:H.map((function(e,a){return(0,C.jsx)(i.Z.Item,{label:n("description"),name:"description[".concat(e.locale,"]"),rules:[{required:e.locale===A,message:n("required")}],hidden:e.locale!==A,children:(0,C.jsx)(v.Z,{rows:4})},e.locale+a)}))}),(0,C.jsx)(o.Z,{span:12,children:(0,C.jsx)(i.Z.Item,{label:n("keywords"),name:"keywords",rules:[{required:!0,message:n("required")}],children:(0,C.jsx)(u.Z,{mode:"tags",style:{width:"100%"}})})}),(0,C.jsx)(o.Z,{span:4,children:(0,C.jsx)(i.Z.Item,{label:n("image"),children:(0,C.jsx)(w.Z,{type:"categories",imageList:S,setImageList:_,form:L,multiple:!1})})}),(0,C.jsx)(o.Z,{span:2,children:(0,C.jsx)(i.Z.Item,{label:n("active"),name:"active",valuePropName:"checked",children:(0,C.jsx)(m.Z,{})})})]}),(0,C.jsx)(h.Z,{type:"primary",htmlType:"submit",loading:F,children:n("submit")})]})})}},86345:function(e,a,n){n.d(a,{Z:function(){return b}});var t=n(87462),l=n(4942),c=n(47313),i=n(29439),r=n(45987),s=n(46123),o=n.n(s),d=n(10288),u=n(49242),m=c.forwardRef((function(e,a){var n,t=e.prefixCls,s=void 0===t?"rc-switch":t,m=e.className,h=e.checked,f=e.defaultChecked,p=e.disabled,Z=e.loadingIcon,v=e.checkedChildren,g=e.unCheckedChildren,x=e.onClick,b=e.onChange,y=e.onKeyDown,j=(0,r.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,d.Z)(!1,{value:h,defaultValue:f}),C=(0,i.Z)(w,2),k=C[0],N=C[1];function I(e,a){var n=k;return p||(N(n=e),null===b||void 0===b||b(n,a)),n}var E=o()(s,m,(n={},(0,l.Z)(n,"".concat(s,"-checked"),k),(0,l.Z)(n,"".concat(s,"-disabled"),p),n));return c.createElement("button",Object.assign({},j,{type:"button",role:"switch","aria-checked":k,disabled:p,className:E,ref:a,onKeyDown:function(e){e.which===u.Z.LEFT?I(!1,e):e.which===u.Z.RIGHT&&I(!0,e),null===y||void 0===y||y(e)},onClick:function(e){var a=I(!k,e);null===x||void 0===x||x(a,e)}}),Z,c.createElement("span",{className:"".concat(s,"-inner")},k?v:g))}));m.displayName="Switch";var h=m,f=n(82508),p=n(46479),Z=n(91964),v=n(21631),g=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(t=Object.getOwnPropertySymbols(e);l<t.length;l++)a.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]])}return n},x=c.forwardRef((function(e,a){var n,i=e.prefixCls,r=e.size,s=e.loading,d=e.className,u=void 0===d?"":d,m=e.disabled,x=g(e,["prefixCls","size","loading","className","disabled"]),b=c.useContext(Z.E_),y=b.getPrefixCls,j=b.direction,w=c.useContext(v.Z),C=y("switch",i),k=c.createElement("div",{className:"".concat(C,"-handle")},s&&c.createElement(f.Z,{className:"".concat(C,"-loading-icon")})),N=o()((n={},(0,l.Z)(n,"".concat(C,"-small"),"small"===(r||w)),(0,l.Z)(n,"".concat(C,"-loading"),s),(0,l.Z)(n,"".concat(C,"-rtl"),"rtl"===j),n),u);return c.createElement(p.Z,{insertExtraNode:!0},c.createElement(h,(0,t.Z)({},x,{prefixCls:C,className:N,disabled:m||s,ref:a,loadingIcon:k})))}));x.__ANT_SWITCH=!0,x.displayName="Switch";var b=x}}]);