"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7023],{97023:function(e,r,n){n.r(r);var i=n(1413),a=n(29439),s=n(47313),t=n(18197),l=n(77181),u=n(68197),d=n(59624),c=n(66672),m=n(74294),o=n(99096),h=n(6289),p=n(59491),x=n(73431),Z=n(58467),j=n(23861),f=n(70816),b=n.n(f),q=n(2717),g=n(90954),y=n(24511),v=n(51353),w=n(46417);r.default=function(){var e=(0,y.$)().t,r=t.Z.useForm(),n=(0,a.Z)(r,1)[0],f=(0,s.useState)(!1),I=(0,a.Z)(f,2),_=I[0],N=I[1],k=(0,q.v9)((function(e){return e.formLang}),q.wU),U=k.defaultLang,Y=k.languages,D=(0,q.I0)(),M=(0,Z.s0)(),S=(0,q.v9)((function(e){return e.menu}),q.wU).activeMenu,C=(0,q.v9)((function(e){return e.myShop}),q.wU).myShop;return(0,w.jsx)(l.Z,{title:e("add.coupon"),extra:(0,w.jsx)(x.Z,{}),children:(0,w.jsxs)(t.Z,{form:n,name:"basic",layout:"vertical",onFinish:function(e){N(!0);var r=(0,i.Z)((0,i.Z)({},e),{},{shop_id:null===C||void 0===C?void 0:C.id,expired_at:b()(e.expired_at).format("YYYY-MM-DD"),qty:Number(e.qty),price:Number(e.price)}),n="coupons";j.Z.create(r).then((function(e){D((0,g.ph)((0,i.Z)((0,i.Z)({},S),{},{nextUrl:n}))),M("/".concat(n)),D((0,v.v)())})).finally((function(){return N(!1)}))},children:[(0,w.jsxs)(u.Z,{gutter:12,children:[(0,w.jsx)(d.Z,{span:12,children:Y.map((function(r){return(0,w.jsx)(t.Z.Item,{label:e("title"),name:"title[".concat(r.locale,"]"),rules:[{required:r.locale===U,message:e("required")}],hidden:r.locale!==U,children:(0,w.jsx)(c.Z,{})},"title"+r.id)}))}),(0,w.jsx)(d.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{label:e("name"),name:"name",rules:[{required:!0,message:e("required")}],children:(0,w.jsx)(c.Z,{})})}),(0,w.jsx)(d.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{label:e("type"),name:"type",rules:[{required:!0,message:e("required")}],children:(0,w.jsxs)(m.Z,{children:[(0,w.jsx)(m.Z.Option,{value:"fix",children:e("fix")}),(0,w.jsx)(m.Z.Option,{value:"percent",children:e("percent")})]})})}),(0,w.jsx)(d.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{name:"expired_at",label:e("expired.at"),rules:[{required:!0,message:e("required")}],children:(0,w.jsx)(o.Z,{className:"w-100",placeholder:"",disabledDate:function(e){return b()().add(-1,"days")>=e}})})}),(0,w.jsx)(d.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{label:e("quantity"),name:"qty",rules:[{required:!0,message:e("required")}],children:(0,w.jsx)(h.Z,{min:0,className:"w-100"})})}),(0,w.jsx)(d.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{label:e("price"),name:"price",rules:[{required:!0,message:e("required")}],children:(0,w.jsx)(h.Z,{min:0,className:"w-100"})})})]}),(0,w.jsx)(p.Z,{type:"primary",htmlType:"submit",loading:_,children:e("submit")})]})})}}}]);