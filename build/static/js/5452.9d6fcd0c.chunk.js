"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5452],{94337:function(e,n,a){var t=a(34344),r={getAll:function(e){return t.Z.get("dashboard/admin/subscriptions",{params:e})},getById:function(e,n){return t.Z.get("dashboard/admin/subscriptions/".concat(e),{params:n})},update:function(e,n){return t.Z.put("dashboard/admin/subscriptions/".concat(e),n)},create:function(e){return t.Z.post("dashboard/admin/subscriptions",e)}};n.Z=r},65452:function(e,n,a){a.r(n),a.d(n,{default:function(){return x}});var t=a(1413),r=a(29439),i=a(47313),c=a(18197),s=a(84695),l=a(59491),d=a(68197),o=a(59624),u=a(66672),h=a(6289),m=a(86345),p=a(24511),Z=a(94337),f=a(51282),b=a(46417);function x(e){var n=e.modal,a=e.handleCancel,x=e.refetch,j=c.Z.useForm(),v=(0,r.Z)(j,1)[0],g=(0,p.$)().t,C=(0,i.useState)(!1),w=(0,r.Z)(C,2),y=w[0],k=w[1],N=(0,i.useState)(!1),I=(0,r.Z)(N,2),_=I[0],E=I[1];return(0,i.useEffect)((function(){E(!0),Z.Z.getById(n.id).then((function(e){console.log("data",e.data),v.setFieldsValue((0,t.Z)({},e.data))})).finally((function(){return E(!1)}))}),[n]),(0,b.jsx)(i.Fragment,{children:(0,b.jsx)(s.Z,{visible:!!n,title:g("edit.subscription"),onCancel:a,style:{minWidth:800},footer:[(0,b.jsx)(l.Z,{type:"primary",onClick:function(){return v.submit()},loading:y,children:g("save")},"save-btn"),(0,b.jsx)(l.Z,{type:"default",onClick:a,children:g("cancel")},"cancel-btn")],children:_?(0,b.jsx)(f.Z,{}):(0,b.jsx)(c.Z,{form:v,layout:"vertical",onFinish:function(e){var r=(0,t.Z)((0,t.Z)({},e),{},{active:Number(e.active),with_report:Number(e.with_report),type:"shop"});k(!0),Z.Z.update(n.id,r).then((function(){a(),x()})).finally((function(){return k(!1)}))},children:(0,b.jsxs)(d.Z,{gutter:12,children:[(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(c.Z.Item,{label:g("title"),name:"title",rules:[{required:!0,message:g("required")}],children:(0,b.jsx)(u.Z,{})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(c.Z.Item,{label:g("period"),name:"month",rules:[{required:!0,message:g("required")}],children:(0,b.jsx)(h.Z,{min:0,max:12,className:"w-100"})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(c.Z.Item,{label:g("product_limit"),name:"product_limit",rules:[{required:!0,message:g("required")}],children:(0,b.jsx)(h.Z,{min:0,className:"w-100"})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(c.Z.Item,{label:g("order_limit"),name:"order_limit",rules:[{required:!0,message:g("required")}],children:(0,b.jsx)(h.Z,{min:0,className:"w-100"})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(c.Z.Item,{label:g("price"),name:"price",rules:[{required:!0,message:g("required")}],children:(0,b.jsx)(h.Z,{min:0,className:"w-100"})})}),(0,b.jsx)(o.Z,{span:12}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(c.Z.Item,{label:g("with_report"),name:"with_report",valuePropName:"checked",children:(0,b.jsx)(m.Z,{})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(c.Z.Item,{label:g("active"),name:"active",valuePropName:"checked",children:(0,b.jsx)(m.Z,{})})})]})})})})}},86345:function(e,n,a){a.d(n,{Z:function(){return v}});var t=a(87462),r=a(4942),i=a(47313),c=a(29439),s=a(45987),l=a(46123),d=a.n(l),o=a(10288),u=a(49242),h=i.forwardRef((function(e,n){var a,t=e.prefixCls,l=void 0===t?"rc-switch":t,h=e.className,m=e.checked,p=e.defaultChecked,Z=e.disabled,f=e.loadingIcon,b=e.checkedChildren,x=e.unCheckedChildren,j=e.onClick,v=e.onChange,g=e.onKeyDown,C=(0,s.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,o.Z)(!1,{value:m,defaultValue:p}),y=(0,c.Z)(w,2),k=y[0],N=y[1];function I(e,n){var a=k;return Z||(N(a=e),null===v||void 0===v||v(a,n)),a}var _=d()(l,h,(a={},(0,r.Z)(a,"".concat(l,"-checked"),k),(0,r.Z)(a,"".concat(l,"-disabled"),Z),a));return i.createElement("button",Object.assign({},C,{type:"button",role:"switch","aria-checked":k,disabled:Z,className:_,ref:n,onKeyDown:function(e){e.which===u.Z.LEFT?I(!1,e):e.which===u.Z.RIGHT&&I(!0,e),null===g||void 0===g||g(e)},onClick:function(e){var n=I(!k,e);null===j||void 0===j||j(n,e)}}),f,i.createElement("span",{className:"".concat(l,"-inner")},k?b:x))}));h.displayName="Switch";var m=h,p=a(82508),Z=a(46479),f=a(91964),b=a(21631),x=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]])}return a},j=i.forwardRef((function(e,n){var a,c=e.prefixCls,s=e.size,l=e.loading,o=e.className,u=void 0===o?"":o,h=e.disabled,j=x(e,["prefixCls","size","loading","className","disabled"]),v=i.useContext(f.E_),g=v.getPrefixCls,C=v.direction,w=i.useContext(b.Z),y=g("switch",c),k=i.createElement("div",{className:"".concat(y,"-handle")},l&&i.createElement(p.Z,{className:"".concat(y,"-loading-icon")})),N=d()((a={},(0,r.Z)(a,"".concat(y,"-small"),"small"===(s||w)),(0,r.Z)(a,"".concat(y,"-loading"),l),(0,r.Z)(a,"".concat(y,"-rtl"),"rtl"===C),a),u);return i.createElement(Z.Z,{insertExtraNode:!0},i.createElement(m,(0,t.Z)({},j,{prefixCls:y,className:N,disabled:h||l,ref:n,loadingIcon:k})))}));j.__ANT_SWITCH=!0,j.displayName="Switch";var v=j}}]);