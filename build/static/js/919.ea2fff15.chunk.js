"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[919],{59337:function(e,t,n){var r=n(34344),a={getPolicy:function(){return r.Z.get("dashboard/admin/policy")},getTerms:function(){return r.Z.get("dashboard/admin/term")},createPolicy:function(e){return r.Z.post("dashboard/admin/policy",e)},createTerms:function(e){return r.Z.post("dashboard/admin/term",e)}};t.Z=a},919:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(1413),a=n(93433),i=n(4942),c=n(29439),l=n(47313),u=n(34491),o=n(18197),s=n(77181),d=n(68197),f=n(59624),m=n(66672),Z=n(45705),h=n(59491),p=n(2717),v=n(68144),g=n(76733),b=n.n(g),j=n(90954),x=n(59337),y=n(24511),F=n(51282),T=n(73431),k=n(75336),q=n(46417);function w(){var e=(0,y.$)().t,t=(0,p.v9)((function(e){return e.menu}),p.wU).activeMenu,n=(0,p.I0)(),g=o.Z.useForm(),w=(0,c.Z)(g,1)[0],E=(0,l.useState)(!1),V=(0,c.Z)(E,2),C=V[0],I=V[1],P=(0,l.useState)(!1),_=(0,c.Z)(P,2),A=_[0],L=_[1],M=(0,p.v9)((function(e){return e.formLang}),p.wU),O=M.languages,S=M.defaultLang;function U(){L(!0),x.Z.getTerms().then((function(e){var t=e.data;return w.setFieldsValue((0,r.Z)({},function(e){if(!e)return{};var t=e.translations,n=O.map((function(e){var n,r,a;return a={},(0,i.Z)(a,"title[".concat(e.locale,"]"),null===(n=t.find((function(t){return t.locale===e.locale})))||void 0===n?void 0:n.title),(0,i.Z)(a,"description[".concat(e.locale,"]"),null===(r=t.find((function(t){return t.locale===e.locale})))||void 0===r?void 0:r.description),a}));return Object.assign.apply(Object,[{}].concat((0,a.Z)(n)))}(t)))})).finally((function(){L(!1),n((0,j.A_)(t))}))}(0,l.useEffect)((function(){return function(){var e=w.getFieldsValue(!0);n((0,j.nc)({activeMenu:t,data:e}))}}),[]),(0,l.useEffect)((function(){t.refetch&&U()}),[t.refetch]);return(0,q.jsx)(s.Z,{title:e("terms"),extra:(0,q.jsx)(T.Z,{}),children:A?(0,q.jsx)(F.Z,{}):(0,q.jsxs)(o.Z,{name:"terms-form",layout:"vertical",onFinish:function(t){var n={title:(0,k.Z)(O,t),description:(0,k.Z)(O,t,"description")};I(!0),x.Z.createTerms(n).then((function(){u.Am.success(e("successfully.saved"))})).finally((function(){return I(!1)}))},form:w,initialValues:t.data,children:[(0,q.jsxs)(d.Z,{gutter:12,children:[(0,q.jsx)(f.Z,{span:12,children:O.map((function(t){return(0,q.jsx)(o.Z.Item,{label:e("title"),name:"title[".concat(t.locale,"]"),rules:[{required:t.locale===S,message:e("required")}],hidden:t.locale!==S,children:(0,q.jsx)(m.Z,{})},"title"+t.locale)}))}),(0,q.jsx)(f.Z,{span:24,children:O.map((function(t){return(0,q.jsx)(o.Z.Item,{label:e("description"),name:"description[".concat(t.locale,"]"),valuePropName:"data",getValueFromEvent:function(e,t){return t.getData()},rules:[{required:t.locale===S,message:e("required")}],hidden:t.locale!==S,children:(0,q.jsx)(v.CKEditor,{editor:b()})})}))})]}),(0,q.jsx)(Z.Z,{children:(0,q.jsx)(h.Z,{type:"primary",htmlType:"submit",loading:C,children:e("save")})})]})})}}}]);