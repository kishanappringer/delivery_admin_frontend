"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3535],{53233:function(e,n,t){var a=t(1413),r=t(29439),i=t(47313),l=t(56140),s=t(67251),o=t(45705),u=t(86345),c=t(78267),d=t(37388),m=t(59491),p=t(99587),h=t(24511),f=t(46417),v=l.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,l=e.setColumns,Z=e.style,x=e.size,g=void 0===x?"":x,j=e.iconOnly,y=(0,h.$)().t,w=(0,i.useState)(!1),b=(0,r.Z)(w,2),k=b[0],C=b[1],_=(0,f.jsx)(s.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,f.jsx)(s.Z.Item,{children:(0,f.jsxs)(o.Z,{className:"d-flex justify-content-between",children:[(0,f.jsx)(v,{children:e.title}),(0,f.jsx)(u.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));l(n)}(e)}})]})},e+n)}))});return(0,f.jsx)(c.Z,{overlay:_,trigger:["click"],onVisibleChange:function(e){C(e)},visible:k,children:(0,f.jsx)(d.Z,{title:y("change.columns"),children:(0,f.jsx)(m.Z,{style:(0,a.Z)({},Z),size:g,icon:(0,f.jsx)(p.Z,{}),children:j?null:y("Columns")})})})}},97388:function(e,n,t){t.d(n,{Z:function(){return v}});var a=t(74165),r=t(15861),i=t(29439),l=t(47313),s=t(16609),o=t(97421),u=t.p+"static/media/pin.0e41858db80c699cd8a2.png",c=t(31881),d=t.n(c);function m(e){return p.apply(this,arguments)}function p(){return p=(0,r.Z)((0,a.Z)().mark((function e(n){var t,r,i=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:"AIzaSyDI0dNtJchqNdUbml5PyVGrUqJDSuJLMdg",r={latlng:"".concat(null===n||void 0===n?void 0:n.lat,",").concat(null===n||void 0===n?void 0:n.lng),key:t},e.abrupt("return",d().get("https://maps.googleapis.com/maps/api/geocode/json",{params:r}).then((function(e){var n;return null===(n=e.data.results[0])||void 0===n?void 0:n.formatted_address})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}var h=t(5958),f=t(46417);var v=(0,s.GoogleApiWrapper)({apiKey:o.kr})((function(e){var n=(0,l.useState)(),t=(0,i.Z)(n,2),c=t[0],d=t[1],p=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t,r,i){var l,s,u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=i.latLng,s={lat:l.lat(),lng:l.lng()},e.setLocation(s),n.next=5,m(s,o.kr);case 5:u=n.sent,e.setAddress(u);case 7:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}(),v=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){var r,i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={lat:null===t||void 0===t?void 0:t.lat,lng:null===t||void 0===t?void 0:t.lng},e.setLocation(r),n.next=4,m(r,o.kr);case 4:i=n.sent,e.setAddress(i);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Z=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};d(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){Z()}),[]);for(var x=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}],g=new e.google.maps.LatLngBounds,j=0;j<x.length;j++)g.extend(x[j]);return(0,f.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,f.jsx)("button",{className:"map-button",type:"button",onClick:function(){Z(),v(c)},children:(0,f.jsx)(h.nDs,{})}),(0,f.jsx)(s.Map,{cursor:"pointer",onClick:p,google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,f.jsx)(s.Marker,{position:e.location,icon:{url:u,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},13945:function(e,n,t){function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return a}})},78067:function(e,n,t){var a=t(1413),r=t(29439),i=t(18197),l=t(68197),s=t(59624),o=t(66672),u=t(74294),c=t(59491),d=t(47313),m=t(24511),p=t(45321),h=t(51282),f=t(2717),v=t(37889),Z=t(97388),x=t(17649),g=t(46417),j=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}];n.Z=function(e){var n=e.id,t=e.data,y=(0,m.$)().t,w=i.Z.useForm(),b=(0,r.Z)(w,1)[0],k=(0,d.useState)(!1),C=(0,r.Z)(k,2),_=C[0],I=C[1],S=(0,d.useState)(!1),N=(0,r.Z)(S,2),q=N[0],z=N[1],O=(0,d.useState)([]),U=(0,r.Z)(O,2),V=U[0],E=U[1],M=(0,f.v9)((function(e){return e.globalSettings}),f.wU).settings,T=(0,d.useState)((0,x.Z)(M)),H=(0,r.Z)(T,2),P=H[0],L=H[1],D=function(e){return e.map((function(e){return{uid:e.id,name:e.path,url:e.path}}))};return(0,d.useEffect)((function(){n&&function(e){z(!0),p.Z.getById(e).then((function(e){var n,t,r,i,l,s,o,u,c=(0,a.Z)((0,a.Z)({},e.data),{},{user_id:{label:e.data.deliveryMan.firstname+" "+e.data.deliveryMan.firstname,value:e.data.deliveryMan.id,images:D(e.data.galleries),location:{lat:null===(n=e.data)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.latitude,lng:null===(r=e.data)||void 0===r||null===(i=r.location)||void 0===i?void 0:i.longitude}}});L({lat:null===(l=e.data)||void 0===l||null===(s=l.location)||void 0===s?void 0:s.latitude,lng:null===(o=e.data)||void 0===o||null===(u=o.location)||void 0===u?void 0:u.longitude}),E(D(e.data.galleries)),b.setFieldsValue(c)})).finally((function(){return z(!1)}))}(n)}),[]),(0,g.jsx)(i.Z,{name:"basic",layout:"vertical",onFinish:function(e){var r;I(!0);var i=(0,a.Z)((0,a.Z)({},e),{},{user_id:t.id,images:[null===(r=V[0])||void 0===r?void 0:r.name],location:{latitude:P.lat,longitude:P.lng}});p.Z.update(n,i).finally((function(){return I(!1)}))},form:b,children:q?(0,g.jsx)(h.Z,{}):(0,g.jsxs)(l.Z,{gutter:12,children:[(0,g.jsx)(s.Z,{span:12,children:(0,g.jsx)(i.Z.Item,{label:y("brand"),name:"brand",rules:[{required:!0,message:y("required")}],children:(0,g.jsx)(o.Z,{})})}),(0,g.jsx)(s.Z,{span:12,children:(0,g.jsx)(i.Z.Item,{label:y("model"),name:"model",rules:[{required:!0,message:y("required")}],children:(0,g.jsx)(o.Z,{})})}),(0,g.jsx)(s.Z,{span:12,children:(0,g.jsx)(i.Z.Item,{label:y("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:y("required")}],children:(0,g.jsx)(u.Z,{options:j})})}),(0,g.jsx)(s.Z,{span:12,children:(0,g.jsx)(i.Z.Item,{label:y("car.number"),name:"number",rules:[{required:!0,message:y("required")}],children:(0,g.jsx)(o.Z,{})})}),(0,g.jsx)(s.Z,{span:12,children:(0,g.jsx)(i.Z.Item,{label:y("car.color"),name:"color",rules:[{required:!0,message:y("required")}],children:(0,g.jsx)(o.Z,{})})}),(0,g.jsx)(s.Z,{span:12,children:(0,g.jsx)(i.Z.Item,{label:y("image"),name:"images",children:(0,g.jsx)(v.Z,{type:"deliveryman/settings",imageList:V,setImageList:E,form:b,length:"1",multiple:!0})})}),(0,g.jsx)(s.Z,{span:24,children:(0,g.jsx)(i.Z.Item,{label:y("map"),name:"location",children:(0,g.jsx)(Z.Z,{location:P,setLocation:L})})}),(0,g.jsx)(s.Z,{span:24,children:(0,g.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:_,children:y("save")})})]})})}},65559:function(e,n,t){t.d(n,{Z:function(){return z}});var a=t(74165),r=t(15861),i=t(1413),l=t(29439),s=t(47313),o=t(18197),u=t(68197),c=t(59624),d=t(66672),m=t(6289),p=t(99096),h=t(74294),f=t(59491),v=t(58467),Z=t(2717),x=t(49986),g=t(34491),j=t(90954),y=t(84304),w=t(70816),b=t.n(w),k=t(24511),C=t(85746),_=t(37889),I=t(89281),S=t(53149),N=t(79492),q=t(46417);function z(e){var n,t=e.form,w=e.data,z=e.image,O=e.setImage,U=e.action_type,V=void 0===U?"":U,E=(0,k.$)().t,M=(0,Z.v9)((function(e){return e.menu.activeMenu}),Z.wU),T=(0,Z.I0)(),H=(0,v.s0)(),P=(0,v.UO)().uuid,L=(0,v.TH)(),D=(0,s.useState)(),F=(0,l.Z)(D,2),A=F[0],K=F[1],$=(0,s.useState)(null),B=(0,l.Z)($,2),R=B[0],G=B[1],Y=(0,s.useState)(!1),J=(0,l.Z)(Y,2),W=J[0],Q=J[1],X=null===M||void 0===M||null===(n=M.data)||void 0===n?void 0:n.role,ee=(0,Z.v9)((function(e){return e.user}),Z.wU),ne=(0,Z.v9)((function(e){return e.client}),Z.wU),te=(0,N.Z)().isDemo;function ae(){return(ae=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,status:"approved"},e.abrupt("return",S.Z.search(t).then((function(e){return e.data.map((function(e){return{label:null!==e.translation?e.translation.title:"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,q.jsx)(o.Z,{form:t,layout:"vertical",initialValues:(0,i.Z)((0,i.Z)({gender:"male",role:"admin"},w),{},{birthday:null!==w&&void 0!==w&&w.birthday?b()(w.birthday):null}),onFinish:function(e){var n,t;Q(!0);var a={firstname:e.firstname,lastname:e.lastname,email:te||null===e||void 0===e?void 0:e.email,phone:te||null===e||void 0===e?void 0:e.phone,birthday:b()(A).format("YYYY-MM-DD"),gender:e.gender,images:[null===(n=z[0])||void 0===n?void 0:n.name],shop_id:null===e||void 0===e||null===(t=e.shop_id)||void 0===t?void 0:t.map((function(e){return e.value})),role:X},r=0===L.pathname.search("/user/delivery/")?"deliveries/list":"user"!==w.role?"users/admin":"users/user";console.log("nextUrl",r);var l=(0,i.Z)((0,i.Z)({},ee.params),{},{role:w.role}),s=(0,i.Z)({},ne.params);"edit"===V?x.Z.update(P,a).then((function(){g.Am.success(E("successfully.updated")),T((0,j.ph)((0,i.Z)((0,i.Z)({},M),{},{nextUrl:r}))),H("/".concat(r)),"user"===w.role?T((0,C.Tu)(s)):T((0,y.uh)(l))})).catch((function(e){return G(e.response.data.params)})).finally((function(){return Q(!1)})):x.Z.create(a).then((function(){g.Am.success(E("successfully.updated")),T((0,j.ph)((0,i.Z)((0,i.Z)({},M),{},{nextUrl:r}))),H("/".concat(r)),"user"===w.role?T((0,C.Tu)(s)):T((0,y.uh)(l))})).catch((function(e){return G(e.response.data.params)})).finally((function(){return Q(!1)}))},className:"px-2",children:(0,q.jsxs)(u.Z,{gutter:12,children:[(0,q.jsx)(c.Z,{span:24,children:(0,q.jsx)(o.Z.Item,{name:"image",label:E("avatar"),children:(0,q.jsx)(_.Z,{type:"restaurant/logo",imageList:z,setImageList:O,form:t,multiple:!1,name:"logo_img"})})}),(0,q.jsx)(c.Z,{span:12,children:(0,q.jsx)(o.Z.Item,{label:E("firstname"),name:"firstname",help:null!==R&&void 0!==R&&R.firstname?R.firstname[0]:null,validateStatus:null!==R&&void 0!==R&&R.firstname?"error":"success",rules:[{required:!0,message:E("required")}],children:(0,q.jsx)(d.Z,{className:"w-100"})})}),(0,q.jsx)(c.Z,{span:12,children:(0,q.jsx)(o.Z.Item,{label:E("lastname"),name:"lastname",help:null!==R&&void 0!==R&&R.lastname?R.lastname[0]:null,validateStatus:null!==R&&void 0!==R&&R.lastname?"error":"success",rules:[{required:!0,message:E("required")}],children:(0,q.jsx)(d.Z,{className:"w-100"})})}),(0,q.jsx)(c.Z,{span:12,children:(0,q.jsx)(o.Z.Item,{label:E("phone"),name:"phone",help:null!==R&&void 0!==R&&R.phone?R.phone[0]:null,validateStatus:null!==R&&void 0!==R&&R.phone?"error":"success",rules:[{required:!te,message:E("required")}],children:(0,q.jsx)(m.Z,{min:0,className:"w-100"})})}),(0,q.jsx)(c.Z,{span:12,children:(0,q.jsx)(o.Z.Item,{label:E("birthday"),name:"birthday",rules:[{required:!0,message:E("required")}],children:(0,q.jsx)(p.Z,{onChange:function(e){return K(e)},className:"w-100",disabledDate:function(e){return b()().add(-1,"days")<=e}})})}),(0,q.jsx)(c.Z,{span:12,children:(0,q.jsx)(o.Z.Item,{label:E("gender"),name:"gender",rules:[{required:!0,message:E("required")}],children:(0,q.jsxs)(h.Z,{picker:"dayTime",className:"w-100",children:[(0,q.jsx)(h.Z.Option,{value:"male",children:E("male")}),(0,q.jsx)(h.Z.Option,{value:"female",children:E("female")})]})})}),(0,q.jsx)(c.Z,{span:12,children:(0,q.jsx)(o.Z.Item,{label:E("email"),name:"email",help:null!==R&&void 0!==R&&R.email?R.email[0]:null,validateStatus:null!==R&&void 0!==R&&R.email?"error":"success",rules:[{required:!te,message:E("required")}],children:(0,q.jsx)(d.Z,{type:"email",className:"w-100",disabled:te})})}),"admin"!==X&&"manager"!==X&&"seller"!==X&&"user"!==X&&(0,q.jsx)(c.Z,{span:12,children:(0,q.jsx)(o.Z.Item,{label:E("shop/restaurant"),name:"shop_id",rules:[{required:!1,message:E("required")}],children:(0,q.jsx)(I.h,{mode:"multiple",fetchOptions:function(e){return ae.apply(this,arguments)},className:"w-100",placeholder:E("select.shop"),allowClear:!1})})}),(0,q.jsx)(c.Z,{span:24,children:(0,q.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:W,children:E("save")})})]})})}},45713:function(e,n,t){t.d(n,{Z:function(){return S}});var a=t(4942),r=t(93433),i=t(1413),l=t(29439),s=t(47313),o=t(45705),u=t(59491),c=t(77181),d=t(78508),m=t(58467),p=t(31741),h=t(47515),f=t(2717),v=t(90954),Z=t(24511),x=t(84017),g=t(22054),j=t(13945),y=t(74580),w=t(34491),b=t(55940),k=t(69658),C=t(7370),_=t(53233),I=t(46417);function S(e){var n=e.data,t=(0,f.I0)(),S=(0,m.s0)(),N=(0,Z.$)().t,q=(0,s.useState)(null),z=(0,l.Z)(q,2),O=z[0],U=z[1],V=(0,s.useState)(null),E=(0,l.Z)(V,2),M=E[0],T=E[1],H=(0,s.useContext)(y._).setIsModalVisible,P=(0,s.useState)(!1),L=(0,l.Z)(P,2),D=L[0],F=L[1],A=(0,f.v9)((function(e){return e.menu}),f.wU).activeMenu,K=(0,f.v9)((function(e){return e.orders}),f.wU),$=K.orders,B=K.meta,R=K.loading,G=K.params,Y=(0,f.v9)((function(e){return e.currency}),f.wU).defaultCurrency,J=(0,s.useState)([{title:N("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:N("client"),is_show:!0,dataIndex:"user",key:"user",render:function(e){return(0,I.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:N("number.of.products"),is_show:!0,dataIndex:"order_details_count",key:"order_details_count",render:function(e){return(0,I.jsxs)("div",{className:"text-lowercase",children:[e||0," ",N("products")]})}},{title:N("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:function(e){return(0,x.Z)(e,null===Y||void 0===Y?void 0:Y.symbol)}},{title:N("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:function(e){var n;return N(null===e||void 0===e||null===(n=e.payment_system)||void 0===n?void 0:n.tag)||"-"}},{title:N("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:N("options"),is_show:!0,key:"options",render:function(e,n){return(0,I.jsxs)(o.Z,{children:[(0,I.jsx)(u.Z,{icon:(0,I.jsx)(p.Z,{}),onClick:function(){return function(e){t((0,v.bL)({url:"order/details/".concat(e.id),id:"order_details",name:N("order.details")})),S("/order/details/".concat(e.id))}(n)}}),(0,I.jsx)(b.Z,{icon:(0,I.jsx)(h.Z,{}),onClick:function(){U([n.id]),H(!0),T(!0)}})]})}}]),W=(0,l.Z)(J,2),Q=W[0],X=W[1];(0,s.useEffect)((function(){var e={user_id:null===n||void 0===n?void 0:n.uuid,page:1,perPage:10};t((0,g.dT)(e))}),[]);var ee={selectedRowKeys:O,onChange:function(e){U(e)}};return(0,I.jsx)("div",{children:(0,I.jsxs)(c.Z,{title:N("orders"),extra:(0,I.jsxs)(o.Z,{wrap:!0,children:[(0,I.jsx)(b.Z,{type:"danger",onClick:function(){null===O||0===O.length?w.Am.warning(N("select.the.product")):(H(!0),T(!1))},children:N("delete.all")}),(0,I.jsx)(_.Z,{setColumns:X,columns:Q})]}),children:[(0,I.jsx)(d.Z,{scroll:{x:!0},rowSelection:ee,columns:null===Q||void 0===Q?void 0:Q.filter((function(e){return e.is_show})),dataSource:$,loading:R,pagination:{pageSize:G.perPage,page:G.page,total:B.total,defaultCurrent:G.page},rowKey:function(e){return e.id},onChange:function(e,n,a){var r=e.pageSize,l=e.current,s=a.field,o=a.order,u=(0,j.Z)(o);t((0,v.nc)({activeMenu:A,data:(0,i.Z)((0,i.Z)({},A.data),{},{perPage:r,page:l,column:s,sort:u})}))}}),(0,I.jsx)(k.Z,{click:function(){F(!0);var e=(0,i.Z)({},Object.assign.apply(Object,[{}].concat((0,r.Z)(O.map((function(e,n){return(0,a.Z)({},"ids[".concat(n,"]"),e)}))))));C.Z.delete(e).then((function(){w.Am.success(N("successfully.deleted")),H(!1),t((0,g.dT)()),T(null)})).finally((function(){return F(!1)}))},text:N(M?"delete":"all.delete"),loading:D,setText:U})]})})}},94748:function(e,n,t){t.d(n,{Z:function(){return Z}});var a=t(29439),r=t(47313),i=t(18197),l=t(77181),s=t(68197),o=t(59624),u=t(66672),c=t(59491),d=t(58467),m=t(34491),p=t(49986),h=t(24511),f=t(79492),v=t(46417);function Z(){var e=(0,h.$)().t,n=i.Z.useForm(),t=(0,a.Z)(n,1)[0],Z=(0,r.useState)(null),x=(0,a.Z)(Z,2),g=x[0],j=x[1],y=(0,r.useState)(!1),w=(0,a.Z)(y,2),b=w[0],k=w[1],C=(0,d.UO)().uuid,_=(0,f.Z)(),I=_.isDemo,S=_.demoSellerUuid;return(0,v.jsx)(l.Z,{title:e("user.password.change"),children:(0,v.jsx)(i.Z,{form:t,layout:"vertical",onFinish:function(n){k(!0);var t={password:n.password?n.password:void 0,password_confirmation:n.password_confirmation};p.Z.updatePassword(C,t).then((function(){m.Am.success(e("successfully.created"))})).catch((function(e){return j(e.response.data.params)})).finally((function(){return k(!1)}))},children:(0,v.jsxs)(s.Z,{gutter:12,children:[(0,v.jsx)(o.Z,{span:12,children:(0,v.jsx)(i.Z.Item,{label:e("password"),name:"password",help:null!==g&&void 0!==g&&g.password?g.password[0]:null,validateStatus:null!==g&&void 0!==g&&g.password?"error":"success",rules:[{required:!0,message:e("required")}],children:(0,v.jsx)(u.Z.Password,{type:"password",className:"w-100",placeholder:"********"})})}),(0,v.jsx)(o.Z,{span:12,children:(0,v.jsx)(i.Z.Item,{label:e("password.confirmation"),help:null!==g&&void 0!==g&&g.password_confirmation?g.password_confirmation[0]:null,validateStatus:null!==g&&void 0!==g&&g.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:e("required")},function(n){var t=n.getFieldValue;return{validator:function(n,a){return a&&t("password")!==a?Promise.reject(e("two.passwords.dont.match")):Promise.resolve()}}}],children:(0,v.jsx)(u.Z.Password,{type:"password",placeholder:"********"})})}),(0,v.jsx)(o.Z,{span:24,children:(0,v.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:b,disabled:I&&S===C,children:e("save")})})]})})})}},92815:function(e,n,t){t.d(n,{Z:function(){return w}});var a=t(29439),r=t(47313),i=t(45705),l=t(59491),s=t(78508),o=t(2717),u=t(24511),c=t(84017),d=t(49986),m=t(55768),p=t(18197),h=t(84695),f=t(6289),v=t(66672),Z=t(34491),x=t(90954),g=t(46417);function j(e){var n=e.modal,t=e.uuid,i=e.handleCancel,s=(0,r.useState)(!1),c=(0,a.Z)(s,2),m=c[0],j=c[1],y=p.Z.useForm(),w=(0,a.Z)(y,1)[0],b=(0,u.$)().t,k=(0,o.I0)(),C=(0,o.v9)((function(e){return e.menu}),o.wU).activeMenu;return(0,g.jsx)(h.Z,{visible:n,title:b("topup.wallet"),onCancel:i,footer:[(0,g.jsx)(l.Z,{type:"default",onClick:i,children:b("cancel")},"cancel-btn"),(0,g.jsx)(l.Z,{type:"primary",onClick:function(){return w.submit()},loading:m,children:b("save")},"submit-btn")],children:(0,g.jsxs)(p.Z,{layout:"vertical",form:w,onFinish:function(e){j(!0),d.Z.topupWallet(t,e).then((function(){Z.Am.success(b("successfully.added")),k((0,x.xo)(C)),i()})).finally((function(){return j(!1)}))},children:[(0,g.jsx)(p.Z.Item,{label:b("price"),name:"price",rules:[{required:!0,message:b("required")}],children:(0,g.jsx)(f.Z,{min:0,className:"w-100"})}),(0,g.jsx)(p.Z.Item,{label:b("note"),name:"note",children:(0,g.jsx)(v.Z,{})})]})})}var y=t(53233);function w(e){var n,t=e.data,p=(0,u.$)().t,h=(0,r.useState)(1),f=(0,a.Z)(h,2),v=f[0],Z=f[1],x=(0,r.useState)(10),w=(0,a.Z)(x,2),b=w[0],k=w[1],C=(0,r.useState)(1),_=(0,a.Z)(C,2),I=_[0],S=_[1],N=(0,r.useState)(!1),q=(0,a.Z)(N,2),z=q[0],O=q[1],U=(0,r.useState)([]),V=(0,a.Z)(U,2),E=V[0],M=V[1],T=(0,r.useState)(!1),H=(0,a.Z)(T,2),P=H[0],L=H[1],D=(0,o.v9)((function(e){return e.currency}),o.wU).defaultCurrency,F=(0,r.useState)([{title:p("created.by"),dataIndex:"author",key:"author",is_show:!0,render:function(e){return(0,g.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:p("price"),dataIndex:"price",key:"price",is_show:!0,render:function(e){return(0,c.Z)(e,null===D||void 0===D?void 0:D.symbol)}},{title:p("note"),dataIndex:"note",key:"note",is_show:!0},{title:p("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0}]),A=(0,a.Z)(F,2),K=A[0],$=A[1];return(0,r.useEffect)((function(){!function(){O(!0);var e={pageSize:10,page:v||1};d.Z.walletHistory(t.uuid,e).then((function(e){M(e.data),S(e.meta.total)})).finally((function(){return O(!1)}))}()}),[v]),(0,g.jsxs)("div",{className:"px-2",children:[(0,g.jsx)("div",{className:"d-flex justify-content-end",children:(0,g.jsxs)(i.Z,{wrap:!0,children:[(0,g.jsx)(l.Z,{type:"primary",icon:(0,g.jsx)(m.Z,{}),onClick:function(){return L(!0)},children:"".concat(p("wallet"),": ").concat((0,c.Z)(null===t||void 0===t||null===(n=t.wallet)||void 0===n?void 0:n.price,null===D||void 0===D?void 0:D.symbol))}),(0,g.jsx)(y.Z,{columns:K,setColumns:$})]})}),(0,g.jsx)(s.Z,{scroll:{x:!0},columns:null===K||void 0===K?void 0:K.filter((function(e){return e.is_show})),dataSource:E,loading:z,pagination:{pageSize:b,page:v,total:I},rowKey:function(e){return e.id},onChange:function(e,n,t){var a=e.pageSize,r=e.current;Z(r),k(a)}}),P&&(0,g.jsx)(j,{modal:P,uuid:t.uuid,handleCancel:function(){return L(!1)}})]})}},99587:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(1413),r=t(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},l=t(17469),s=function(e,n){return r.createElement(l.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:i}))};s.displayName="TableOutlined";var o=r.forwardRef(s)},86345:function(e,n,t){t.d(n,{Z:function(){return j}});var a=t(87462),r=t(4942),i=t(47313),l=t(29439),s=t(45987),o=t(46123),u=t.n(o),c=t(10288),d=t(49242),m=i.forwardRef((function(e,n){var t,a=e.prefixCls,o=void 0===a?"rc-switch":a,m=e.className,p=e.checked,h=e.defaultChecked,f=e.disabled,v=e.loadingIcon,Z=e.checkedChildren,x=e.unCheckedChildren,g=e.onClick,j=e.onChange,y=e.onKeyDown,w=(0,s.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),b=(0,c.Z)(!1,{value:p,defaultValue:h}),k=(0,l.Z)(b,2),C=k[0],_=k[1];function I(e,n){var t=C;return f||(_(t=e),null===j||void 0===j||j(t,n)),t}var S=u()(o,m,(t={},(0,r.Z)(t,"".concat(o,"-checked"),C),(0,r.Z)(t,"".concat(o,"-disabled"),f),t));return i.createElement("button",Object.assign({},w,{type:"button",role:"switch","aria-checked":C,disabled:f,className:S,ref:n,onKeyDown:function(e){e.which===d.Z.LEFT?I(!1,e):e.which===d.Z.RIGHT&&I(!0,e),null===y||void 0===y||y(e)},onClick:function(e){var n=I(!C,e);null===g||void 0===g||g(n,e)}}),v,i.createElement("span",{className:"".concat(o,"-inner")},C?Z:x))}));m.displayName="Switch";var p=m,h=t(82508),f=t(46479),v=t(91964),Z=t(21631),x=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},g=i.forwardRef((function(e,n){var t,l=e.prefixCls,s=e.size,o=e.loading,c=e.className,d=void 0===c?"":c,m=e.disabled,g=x(e,["prefixCls","size","loading","className","disabled"]),j=i.useContext(v.E_),y=j.getPrefixCls,w=j.direction,b=i.useContext(Z.Z),k=y("switch",l),C=i.createElement("div",{className:"".concat(k,"-handle")},o&&i.createElement(h.Z,{className:"".concat(k,"-loading-icon")})),_=u()((t={},(0,r.Z)(t,"".concat(k,"-small"),"small"===(s||b)),(0,r.Z)(t,"".concat(k,"-loading"),o),(0,r.Z)(t,"".concat(k,"-rtl"),"rtl"===w),t),d);return i.createElement(f.Z,{insertExtraNode:!0},i.createElement(p,(0,a.Z)({},g,{prefixCls:k,className:_,disabled:m||o,ref:n,loadingIcon:C})))}));g.__ANT_SWITCH=!0,g.displayName="Switch";var j=g}}]);