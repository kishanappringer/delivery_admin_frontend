(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3947],{33834:function(t,n,e){"use strict";e.d(n,{K:function(){return o}});var a=e(4942),i=e(1413),r=e(58467),c=e(74776),s=e.n(c),o=function(){var t=(0,r.s0)(),n=(0,r.TH)(),e=s().parse(n.search,{ignoreQueryPrefix:!0});return{values:e,set:function(n,r){return t({search:s().stringify((0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n,r)))})},reset:function(n){var a=(0,i.Z)({},e);a[n]&&delete a[n],t({search:s().stringify((0,i.Z)({},a))})},clear:function(){return t({search:s().stringify({})})},merge:function(n){return t({search:s().stringify((0,i.Z)((0,i.Z)({},e),n))})}}}},89355:function(t,n,e){"use strict";e.r(n);var a=e(4942),i=e(93433),r=e(1413),c=e(29439),s=e(47313),o=e(82494),u=e(83999),l=e(77181),d=e(72652),f=e(32723),v=e(1939),p=e(33072),Z=e(73431),h=e(58467),x=e(18333),g=e(2717),y=e(90954),j=e(24511),m=e(33834),b=e(46417),k=u.Z.Step;n.default=function(){var t,n=(0,j.$)().t,e=(0,h.UO)().uuid,S=(0,m.K)(),_=(0,g.v9)((function(t){return t.menu}),g.wU).activeMenu,O=(0,g.v9)((function(t){return t.formLang}),g.wU).languages,w=(0,g.I0)(),N=Number((null===(t=S.values)||void 0===t?void 0:t.step)||0),C=(0,s.useState)(_.refetch),M=(0,c.Z)(C,2),U=M[0],q=M[1],F=function(){var t=N+1;S.set("step",t)},I=function(){var t=N-1;S.set("step",t)},K=function(t){return t?{label:t.translation?t.translation.title:t.title,value:t.id}:null};function T(t){q(!0),x.Z.getById(t).then((function(t){var n,e=(0,r.Z)((0,r.Z)((0,r.Z)({},t.data),function(t){if(null===t||void 0===t||!t.translations)return{};var n=t.translations,e=O.map((function(t){var e,i,r;return r={},(0,a.Z)(r,"title[".concat(t.locale,"]"),null===(e=n.find((function(n){return n.locale===t.locale})))||void 0===e?void 0:e.title),(0,a.Z)(r,"description[".concat(t.locale,"]"),null===(i=n.find((function(n){return n.locale===t.locale})))||void 0===i?void 0:i.description),r}));return Object.assign.apply(Object,[{}].concat((0,i.Z)(e)))}(t.data)),{},{shop:K(t.data.shop),unit:K(t.data.unit),extras:null===(n=t.data.stocks[0])||void 0===n?void 0:n.extras.map((function(t){return t.extra_group_id})),stocks:t.data.stocks.map((function(t){return(0,r.Z)((0,r.Z)((0,r.Z)({},t),Object.assign.apply(Object,[{}].concat((0,i.Z)(t.extras.map((function(t,n){return(0,a.Z)({},"extras[".concat(n,"]"),t.id)})))))),{},{quantity:t.quantity||0,extras:void 0})})),properties:t.data.properties.map((function(t,n){var e;return e={id:n},(0,a.Z)(e,"key[".concat(t.locale,"]"),t.key),(0,a.Z)(e,"value[".concat(t.locale,"]"),t.value),e})),translation:void 0,translations:void 0});w((0,y.nc)({activeMenu:_,data:e}))})).finally((function(){q(!1),w((0,y.A_)(_))}))}(0,s.useEffect)((function(){_.refetch&&T(e)}),[_.refetch]);return(0,b.jsxs)(l.Z,{title:n("addon.edit"),extra:(0,b.jsx)(Z.Z,{}),children:[(0,b.jsx)(u.Z,{current:N,onChange:function(t){w((0,y.nc)({activeMenu:_,data:(0,r.Z)((0,r.Z)({},_.data),{},{step:t})})),S.set("step",t)},children:o.S.map((function(t){return(0,b.jsx)(k,{title:n(t.title)},t.title)}))}),U?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,b.jsx)(d.Z,{size:"large",className:"py-5"})}):(0,b.jsxs)("div",{className:"steps-content",children:["First-content"===o.S[N].content&&(0,b.jsx)(p.Z,{next:F,action_type:"edit"}),"Third-content"===o.S[N].content&&(0,b.jsx)(v.Z,{next:F,prev:I,current:N}),"Finish-content"===o.S[N].content&&(0,b.jsx)(f.Z,{prev:I})]})]})}},24654:function(){}}]);