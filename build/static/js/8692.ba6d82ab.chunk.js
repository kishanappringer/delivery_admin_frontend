"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8692],{28692:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var a=t(93433),l=t(4942),c=t(1413),i=t(29439),r=t(47313),o=t(58467),s=t(34491),d=t(18197),u=t(77181),f=t(68197),h=t(59624),m=t(66672),Z=t(86345),g=t(45705),v=t(59491),p=t(72652),x=t(2717),b=t(90954),j=(t(81503),t(94843)),y=t(56078),C=t(73431),w=t(75336),k=t(8550),N=t(24511),I=t(21074),O=t(37889),_=t(46417);function E(){var e,n,t=(0,N.$)().t,E=(0,x.v9)((function(e){return e.menu}),x.wU).activeMenu,S=(0,x.v9)((function(e){return e.formLang}),x.wU),q=S.languages,F=S.defaultLang,L=(0,x.I0)(),P=d.Z.useForm(),T=(0,i.Z)(P,1)[0],U=(0,o.s0)(),V=(0,o.UO)().uuid,z=(0,r.useState)(null!==(e=E.data)&&void 0!==e&&e.image?[null===(n=E.data)||void 0===n?void 0:n.image]:[]),A=(0,i.Z)(z,2),D=A[0],K=A[1],R=(0,r.useState)(!1),H=(0,i.Z)(R,2),M=H[0],B=H[1],G=(0,r.useState)(!1),J=(0,i.Z)(G,2),W=J[0],$=J[1];(0,r.useEffect)((function(){return function(){var e=T.getFieldsValue(!0);L((0,b.nc)({activeMenu:E,data:e}))}}),[]);function Q(e){if(!e)return{};var n=e.translations,t=q.map((function(e){var t,a,c,i;return i={},(0,l.Z)(i,"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title),(0,l.Z)(i,"description[".concat(e.locale,"]"),null===(a=n.find((function(n){return n.locale===e.locale})))||void 0===a?void 0:a.description),(0,l.Z)(i,"short_desc[".concat(e.locale,"]"),null===(c=n.find((function(n){return n.locale===e.locale})))||void 0===c?void 0:c.short_desc),i}));return Object.assign.apply(Object,[{}].concat((0,a.Z)(t)))}return(0,r.useEffect)((function(){E.refetch&&function(e){$(!0),y.Z.getById(e).then((function(e){var n=e.data;T.setFieldsValue((0,c.Z)((0,c.Z)((0,c.Z)({},n),Q(n)),{},{image:[(0,k.Z)(n.img)]})),K([(0,k.Z)(n.img)])})).finally((function(){$(!1),L((0,b.A_)(E))}))}(V)}),[E.refetch]),(0,_.jsx)(u.Z,{title:t("clone.blog"),extra:(0,_.jsx)(C.Z,{}),children:W?(0,_.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,_.jsx)(p.Z,{size:"large",className:"py-5"})}):(0,_.jsxs)(d.Z,{name:"blog-edit",layout:"vertical",onFinish:function(e){var n,a={type:"blog",active:e.active?1:0,images:[null===(n=D[0])||void 0===n?void 0:n.name],title:(0,w.Z)(q,e),description:(0,w.Z)(q,e,"description"),short_desc:(0,w.Z)(q,e,"short_desc")};B(!0);var l="blogs";y.Z.create(a).then((function(){s.Am.success(t("successfully.created")),L((0,b.ph)((0,c.Z)((0,c.Z)({},E),{},{nextUrl:l}))),U("/".concat(l)),L((0,j.J)({}))})).finally((function(){return B(!1)}))},form:T,initialValues:(0,c.Z)({active:!0},E.data),children:[(0,_.jsxs)(f.Z,{gutter:12,children:[(0,_.jsx)(h.Z,{span:12,children:q.map((function(e){return(0,_.jsx)(d.Z.Item,{label:t("title"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===F,message:t("requried")}],hidden:e.locale!==F,children:(0,_.jsx)(m.Z,{})},"title"+e.locale)}))}),(0,_.jsx)(h.Z,{children:(0,_.jsx)(d.Z.Item,{label:t("image"),rules:[{required:!D.length,message:t("required")}],children:(0,_.jsx)(O.Z,{type:"blogs",imageList:D,setImageList:K,form:T,length:"1",multiple:!1})})}),(0,_.jsx)(h.Z,{children:(0,_.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,_.jsx)(d.Z.Item,{label:t("active"),name:"active",valuePropName:"checked",children:(0,_.jsx)(Z.Z,{})})})}),(0,_.jsx)(h.Z,{span:24,children:q.map((function(e){return(0,_.jsx)(d.Z.Item,{label:t("short.description"),name:"short_desc[".concat(e.locale,"]"),rules:[{required:e.locale===F,message:t("required")}],hidden:e.locale!==F,children:(0,_.jsx)(m.Z,{})},"short_desc"+e.locale)}))}),(0,_.jsx)(h.Z,{span:24,children:(0,_.jsx)(I.Z,{languages:q,form:T,lang:F,getLanguageFields:Q})})]}),(0,_.jsx)(g.Z,{children:(0,_.jsx)(v.Z,{type:"primary",htmlType:"submit",loading:M,children:t("save")})})]})})}},86345:function(e,n,t){t.d(n,{Z:function(){return b}});var a=t(87462),l=t(4942),c=t(47313),i=t(29439),r=t(45987),o=t(46123),s=t.n(o),d=t(10288),u=t(49242),f=c.forwardRef((function(e,n){var t,a=e.prefixCls,o=void 0===a?"rc-switch":a,f=e.className,h=e.checked,m=e.defaultChecked,Z=e.disabled,g=e.loadingIcon,v=e.checkedChildren,p=e.unCheckedChildren,x=e.onClick,b=e.onChange,j=e.onKeyDown,y=(0,r.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=(0,d.Z)(!1,{value:h,defaultValue:m}),w=(0,i.Z)(C,2),k=w[0],N=w[1];function I(e,n){var t=k;return Z||(N(t=e),null===b||void 0===b||b(t,n)),t}var O=s()(o,f,(t={},(0,l.Z)(t,"".concat(o,"-checked"),k),(0,l.Z)(t,"".concat(o,"-disabled"),Z),t));return c.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":k,disabled:Z,className:O,ref:n,onKeyDown:function(e){e.which===u.Z.LEFT?I(!1,e):e.which===u.Z.RIGHT&&I(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var n=I(!k,e);null===x||void 0===x||x(n,e)}}),g,c.createElement("span",{className:"".concat(o,"-inner")},k?v:p))}));f.displayName="Switch";var h=f,m=t(82508),Z=t(46479),g=t(91964),v=t(21631),p=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]])}return t},x=c.forwardRef((function(e,n){var t,i=e.prefixCls,r=e.size,o=e.loading,d=e.className,u=void 0===d?"":d,f=e.disabled,x=p(e,["prefixCls","size","loading","className","disabled"]),b=c.useContext(g.E_),j=b.getPrefixCls,y=b.direction,C=c.useContext(v.Z),w=j("switch",i),k=c.createElement("div",{className:"".concat(w,"-handle")},o&&c.createElement(m.Z,{className:"".concat(w,"-loading-icon")})),N=s()((t={},(0,l.Z)(t,"".concat(w,"-small"),"small"===(r||C)),(0,l.Z)(t,"".concat(w,"-loading"),o),(0,l.Z)(t,"".concat(w,"-rtl"),"rtl"===y),t),u);return c.createElement(Z.Z,{insertExtraNode:!0},c.createElement(h,(0,a.Z)({},x,{prefixCls:w,className:N,disabled:f||o,ref:n,loadingIcon:k})))}));x.__ANT_SWITCH=!0,x.displayName="Switch";var b=x}}]);